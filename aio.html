<!DOCTYPE html>
<!-- START: inst/pkgdown/templates/layout.html --><!-- Generated by pkgdown: do not edit by hand --><html lang="en" data-bs-theme="auto">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<title>R - Beginners Workshop: All in One View</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<script src="assets/themetoggle.js"></script><link rel="stylesheet" type="text/css" href="assets/styles.css">
<script src="assets/scripts.js" type="text/javascript"></script><!-- mathjax --><script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      config: ["MMLorHTML.js"],
      jax: ["input/TeX","input/MathML","output/HTML-CSS","output/NativeMML", "output/PreviewHTML"],
      extensions: ["tex2jax.js","mml2jax.js","MathMenu.js","MathZoom.js", "fast-preview.js", "AssistiveMML.js", "a11y/accessibility-menu.js"],
      TeX: {
        extensions: ["AMSmath.js","AMSsymbols.js","noErrors.js","noUndefined.js"]
      },
      tex2jax: {
        inlineMath: [['\\(', '\\)']],
        displayMath: [ ['$$','$$'], ['\\[', '\\]'] ],
        processEscapes: true
      }
    });
    </script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><!-- Responsive Favicon for The Carpentries --><link rel="apple-touch-icon" sizes="180x180" href="favicons/incubator/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="favicons/incubator/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="favicons/incubator/favicon-16x16.png">
<link rel="manifest" href="favicons/incubator/site.webmanifest">
<link rel="mask-icon" href="favicons/incubator/safari-pinned-tab.svg" color="#5bbad5">
<meta name="msapplication-TileColor" content="#da532c">
<meta name="theme-color" media="(prefers-color-scheme: light)" content="white">
<meta name="theme-color" media="(prefers-color-scheme: dark)" content="black">
</head>
<body>
    <header id="top" class="navbar navbar-expand-md top-nav incubator"><svg xmlns="http://www.w3.org/2000/svg" class="d-none"><symbol id="check2" viewbox="0 0 16 16"><path d="M13.854 3.646a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 1 1 .708-.708L6.5 10.293l6.646-6.647a.5.5 0 0 1 .708 0z"></path></symbol><symbol id="circle-half" viewbox="0 0 16 16"><path d="M8 15A7 7 0 1 0 8 1v14zm0 1A8 8 0 1 1 8 0a8 8 0 0 1 0 16z"></path></symbol><symbol id="moon-stars-fill" viewbox="0 0 16 16"><path d="M6 .278a.768.768 0 0 1 .08.858 7.208 7.208 0 0 0-.878 3.46c0 4.021 3.278 7.277 7.318 7.277.527 0 1.04-.055 1.533-.16a.787.787 0 0 1 .81.316.733.733 0 0 1-.031.893A8.349 8.349 0 0 1 8.344 16C3.734 16 0 12.286 0 7.71 0 4.266 2.114 1.312 5.124.06A.752.752 0 0 1 6 .278z"></path><path d="M10.794 3.148a.217.217 0 0 1 .412 0l.387 1.162c.173.518.579.924 1.097 1.097l1.162.387a.217.217 0 0 1 0 .412l-1.162.387a1.734 1.734 0 0 0-1.097 1.097l-.387 1.162a.217.217 0 0 1-.412 0l-.387-1.162A1.734 1.734 0 0 0 9.31 6.593l-1.162-.387a.217.217 0 0 1 0-.412l1.162-.387a1.734 1.734 0 0 0 1.097-1.097l.387-1.162zM13.863.099a.145.145 0 0 1 .274 0l.258.774c.115.346.386.617.732.732l.774.258a.145.145 0 0 1 0 .274l-.774.258a1.156 1.156 0 0 0-.732.732l-.258.774a.145.145 0 0 1-.274 0l-.258-.774a1.156 1.156 0 0 0-.732-.732l-.774-.258a.145.145 0 0 1 0-.274l.774-.258c.346-.115.617-.386.732-.732L13.863.1z"></path></symbol><symbol id="sun-fill" viewbox="0 0 16 16"><path d="M8 12a4 4 0 1 0 0-8 4 4 0 0 0 0 8zM8 0a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 0zm0 13a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 13zm8-5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2a.5.5 0 0 1 .5.5zM3 8a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2A.5.5 0 0 1 3 8zm10.657-5.657a.5.5 0 0 1 0 .707l-1.414 1.415a.5.5 0 1 1-.707-.708l1.414-1.414a.5.5 0 0 1 .707 0zm-9.193 9.193a.5.5 0 0 1 0 .707L3.05 13.657a.5.5 0 0 1-.707-.707l1.414-1.414a.5.5 0 0 1 .707 0zm9.193 2.121a.5.5 0 0 1-.707 0l-1.414-1.414a.5.5 0 0 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .707zM4.464 4.465a.5.5 0 0 1-.707 0L2.343 3.05a.5.5 0 1 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .708z"></path></symbol></svg><a class="visually-hidden-focusable skip-link" href="#main-content">Skip to main content</a>
  <div class="container-fluid top-nav-container">
    <div class="col-md-8">
      <div class="large-logo">
        <img id="incubator-logo" alt="Lesson Description" src="assets/images/incubator-logo.svg"><span class="badge text-bg-danger">
          <abbr title="This lesson is in the pre-alpha phase, which means that it is in early development, but has not yet been taught.">
            <a href="https://cdh.carpentries.org/the-lesson-life-cycle.html#early-development-pre-alpha-through-alpha" class="external-link alert-link">
              <i aria-hidden="true" class="icon" data-feather="alert-octagon" style="border-radius: 5px"></i>
              Pre-Alpha
            </a>
            <span class="visually-hidden">This lesson is in the pre-alpha phase, which means that it is in early development, but has not yet been taught.</span>
          </abbr>
        </span>

      </div>
    </div>
    <div class="selector-container">
      <div id="theme-selector">
        <li class="nav-item dropdown" id="theme-button-list">
          <button class="btn btn-link nav-link px-0 px-lg-2 dropdown-toggle d-flex align-items-center" id="bd-theme" type="button" aria-expanded="false" data-bs-toggle="dropdown" data-bs-display="static" aria-label="Toggle theme (auto)">
            <svg class="bi my-1 theme-icon-active"><use href="#circle-half"></use></svg><i data-feather="chevron-down"></i>
          </button>
          <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="bd-theme-text">
<li>
              <button type="button" class="btn dropdown-item d-flex align-items-center" data-bs-theme-value="light" aria-pressed="false">
                <svg class="bi me-2 theme-icon"><use href="#sun-fill"></use></svg>
                Light
                <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
            </li>
            <li>
              <button type="button" class="btn dropdown-item d-flex align-items-center" data-bs-theme-value="dark" aria-pressed="false">
                <svg class="bi me-2 theme-icon"><use href="#moon-stars-fill"></use></svg>
                Dark
                <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
            </li>
            <li>
              <button type="button" class="btn dropdown-item d-flex align-items-center active" data-bs-theme-value="auto" aria-pressed="true">
                <svg class="bi me-2 theme-icon"><use href="#circle-half"></use></svg>
                Auto
                <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
            </li>
          </ul>
</li>
      </div>

      <div class="dropdown" id="instructor-dropdown">
        <button class="btn btn-secondary dropdown-toggle bordered-button" type="button" id="dropdownMenu1" data-bs-toggle="dropdown" aria-expanded="false">
          <i aria-hidden="true" class="icon" data-feather="eye"></i> Learner View <i data-feather="chevron-down"></i>
        </button>
        <ul class="dropdown-menu" aria-labelledby="dropdownMenu1">
<li><button class="dropdown-item" type="button" onclick="window.location.href='instructor/aio.html';">Instructor View</button></li>
        </ul>
</div>
    </div>
  </div>
  <hr></header><nav class="navbar navbar-expand-xl bottom-nav incubator" aria-label="Main Navigation"><div class="container-fluid nav-container">
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle Navigation">
      <span class="navbar-toggler-icon"></span>
      <span class="menu-title">Menu</span>
    </button>
    <div class="nav-logo">
      <img class="small-logo" alt="Lesson Description" src="assets/images/incubator-logo-sm.svg">
</div>
    <div class="lesson-title-md">
      R - Beginners Workshop
    </div>
    <div class="search-icon-sm">
      <!-- TODO: do not show until we have search
        <i role="img" aria-label="Search the All In One page" data-feather="search"></i>
      -->
    </div>
    <div class="desktop-nav">
      <ul class="navbar-nav me-auto mb-2 mb-lg-0">
<li class="nav-item">
          <span class="lesson-title">
            R - Beginners Workshop
          </span>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="key-points.html">Key Points</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="reference.html#glossary">Glossary</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="profiles.html">Learner Profiles</a>
        </li>
        <li class="nav-item dropdown">
          <button class="nav-link dropdown-toggle" id="navbarDropdown" data-bs-toggle="dropdown" aria-expanded="false">
            More <i data-feather="chevron-down"></i>
          </button>
          <ul class="dropdown-menu" aria-labelledby="navbarDropdown"></ul>
</li>
      </ul>
</div>
    <!--
    <form class="d-flex col-md-2 search-form">
      <fieldset disabled>
      <input class="form-control me-2 searchbox" type="search" placeholder="" aria-label="">
        <button class="btn btn-outline-success tablet-search-button"  type="submit">
          <i class="search-icon" data-feather="search" role="img" aria-label="Search the All In One page"></i>
        </button>
      </fieldset>
    </form>
    -->
    <a id="search-button" class="btn btn-primary" href="aio.html" role="button" aria-label="Search the All In One page">Search the All In One page</a>
  </div>
<!--/div.container-fluid -->
</nav><div class="col-md-12 mobile-title">
  R - Beginners Workshop
</div>

<aside class="col-md-12 lesson-progress"><div style="width: %" class="percentage">
    %
  </div>
  <div class="progress incubator">
    <div class="progress-bar incubator" role="progressbar" style="width: %" aria-valuenow="" aria-label="Lesson Progress" aria-valuemin="0" aria-valuemax="100">
    </div>
  </div>
</aside><div class="container">
      <div class="row">
        <!-- START: inst/pkgdown/templates/navbar.html -->
<div id="sidebar-col" class="col-lg-4">
  <div id="sidebar" class="sidebar">
      <nav aria-labelledby="flush-headingEleven"><button role="button" aria-label="close menu" alt="close menu" aria-expanded="true" aria-controls="sidebar" class="collapse-toggle" data-collapse="Collapse " data-episodes="Episodes ">
          <i class="search-icon" data-feather="x" role="img"></i>
        </button>
        <div class="sidebar-inner">
          <div class="row mobile-row" id="theme-row-mobile">
            <div class="col" id="theme-selector">
              <li class="nav-item dropdown" id="theme-button-list">
                <button class="btn btn-link nav-link px-0 px-lg-2 dropdown-toggle d-flex align-items-center" id="bd-theme" type="button" aria-expanded="false" data-bs-toggle="dropdown" data-bs-display="static" aria-label="Toggle theme (auto)">
                  <svg class="bi my-1 theme-icon-active"><use href="#circle-half"></use></svg><span class="d-lg-none ms-1" id="bd-theme-text">Toggle Theme</span>
                </button>
                <ul class="dropdown-menu dropdown-menu-right" aria-labelledby="bd-theme-text">
<li>
                    <button type="button" class="btn dropdown-item d-flex align-items-center" data-bs-theme-value="light" aria-pressed="false">
                      <svg class="bi me-2 theme-icon"><use href="#sun-fill"></use></svg>
                      Light
                      <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
                  </li>
                  <li>
                    <button type="button" class="btn dropdown-item d-flex align-items-center" data-bs-theme-value="dark" aria-pressed="false">
                      <svg class="bi me-2 theme-icon"><use href="#moon-stars-fill"></use></svg>
                      Dark
                      <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
                  </li>
                  <li>
                    <button type="button" class="btn dropdown-item d-flex align-items-center active" data-bs-theme-value="auto" aria-pressed="true">
                      <svg class="bi me-2 theme-icon"><use href="#circle-half"></use></svg>
                      Auto
                      <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
                  </li>
                </ul>
</li>
            </div>
          </div>
          <div class="row mobile-row">
            <div class="col">
              <div class="sidenav-view-selector">
                <div class="accordion accordion-flush" id="accordionFlush9">
                  <div class="accordion-item">
                    <h2 class="accordion-header" id="flush-headingNine">
                      <button class="accordion-button collapsed" id="instructor" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseNine" aria-expanded="false" aria-controls="flush-collapseNine">
                        <i id="eye" aria-hidden="true" class="icon" data-feather="eye"></i> Learner View
                      </button>
                    </h2>
                    <div id="flush-collapseNine" class="accordion-collapse collapse" aria-labelledby="flush-headingNine" data-bs-parent="#accordionFlush2">
                      <div class="accordion-body">
                        <a href="instructor/aio.html">Instructor View</a>
                      </div>
                    </div>
                  </div>
<!--/div.accordion-item-->
                </div>
<!--/div.accordion-flush-->
              </div>
<!--div.sidenav-view-selector -->
            </div>
<!--/div.col -->

            <hr>
</div>
<!--/div.mobile-row -->

          <div class="accordion accordion-flush" id="accordionFlush11">
            <div class="accordion-item">

              <button id="chapters" class="accordion-button show" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseEleven" aria-expanded="false" aria-controls="flush-collapseEleven">
                <h2 class="accordion-header chapters" id="flush-headingEleven">
                  EPISODES
                </h2>
              </button>
              <div id="flush-collapseEleven" class="accordion-collapse show collapse" aria-labelledby="flush-headingEleven" data-bs-parent="#accordionFlush11">

                <div class="accordion-body">
                  <div class="accordion accordion-flush" id="accordionFlush1">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading1">
        <a href="index.html">Summary and Setup</a>
    </div>
<!--/div.accordion-header-->

  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush2">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading2">
        <a href="introduction.html">1. Introduction</a>
    </div>
<!--/div.accordion-header-->

  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush3">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading3">
        <a href="r-setup.html">2. R Setup</a>
    </div>
<!--/div.accordion-header-->

  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush4">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading4">
        <a href="packages.html">3. Packages in R</a>
    </div>
<!--/div.accordion-header-->

  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush5">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading5">
        <a href="scripts-and-vectors.html">4. Vectors and variable types</a>
    </div>
<!--/div.accordion-header-->

  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush6">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading6">
        <a href="projects.html">5. Projects</a>
    </div>
<!--/div.accordion-header-->

  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush7">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading7">
        <a href="data-visualization-01.html">6. Data Visualization (1)</a>
    </div>
<!--/div.accordion-header-->

  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush8">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading8">
        <a href="data-visualization-02.html">7. Data Visualization (2)</a>
    </div>
<!--/div.accordion-header-->

  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush9">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading9">
        <a href="filtering.html">8. Filtering data</a>
    </div>
<!--/div.accordion-header-->

  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush10">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading10">
        <a href="mutating.html">9. mutating</a>
    </div>
<!--/div.accordion-header-->

  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush11">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading11">
        <a href="count-and-summarize.html">10. count-and-summarize</a>
    </div>
<!--/div.accordion-header-->

  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

                </div>
              </div>
            </div>

            <hr class="half-width">
<div class="accordion accordion-flush lesson-resources" id="accordionFlush12">
              <div class="accordion-item">
                <h2 class="accordion-header" id="flush-headingTwelve">
                  <button class="accordion-button collapsed" id="lesson-resources" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseTwelve" aria-expanded="false" aria-controls="flush-collapseTwelve">
                    RESOURCES
                  </button>
                </h2>
                <div id="flush-collapseTwelve" class="accordion-collapse collapse" aria-labelledby="flush-headingTwelve" data-bs-parent="#accordionFlush12">
                  <div class="accordion-body">
                    <ul>
<li>
                        <a href="key-points.html">Key Points</a>
                      </li>
                      <li>
                        <a href="reference.html#glossary">Glossary</a>
                      </li>
                      <li>
                        <a href="profiles.html">Learner Profiles</a>
                      </li>

                    </ul>
</div>
                </div>
              </div>
            </div>
            <hr class="half-width lesson-resources">
<a href="aio.html">See all in one page</a>


            <hr class="d-none d-sm-block d-md-none">
<div class="d-grid gap-1">

            </div>
          </div>
<!-- /div.accordion -->
        </div>
<!-- /div.sidebar-inner -->
      </nav>
</div>
<!-- /div.sidebar -->
  </div>
<!-- /div.sidebar-col -->
<!-- END:   inst/pkgdown/templates/navbar.html-->

        <!-- START: inst/pkgdown/templates/content-extra.html -->
  <div class="col-xl-8 col-lg-12 primary-content">
    <main id="main-content" class="main-content"><div class="container lesson-content">
        
        
<section id="aio-introduction"><p>Content from <a href="introduction.html">Introduction</a></p>
<hr>
<p>Last updated on 2025-03-17 |

        <a href="https://github.com/SLesche/r-for-empra/edit/main/episodes/introduction.Rmd" class="external-link">Edit this page <i aria-hidden="true" data-feather="edit"></i></a></p>
<div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right" data-expand="Expand All Solutions " data-collapse="Collapse All Solutions "> Expand All Solutions <i aria-hidden="true" data-feather="plus"></i></button>
        </div>
<div class="overview card">
<h2 class="card-header">Overview</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Questions</h3>
<ul>
<li>What is this all about?</li>
</ul>
</div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Objectives</h3>
<ul>
<li>Explain the general structure of this introductory course</li>
<li>Explain how to submit “homework” assignments</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<section><h2 class="section-heading" id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<hr class="half-width">
<p>This is the accompanying website to the Empra Differentielle
Psychologie of Heidelberg University. It is authored and used by <a href="https://www.psychologie.uni-heidelberg.de/person/sven-lesche" class="external-link">Sven
Lesche</a>. This course aims to cover:</p>
<ul>
<li>Some R basics and how to structure code</li>
<li>Getting a first glimpse of data</li>
<li>Cleaning data</li>
<li>Running some analysis</li>
</ul></section><section><h2 class="section-heading" id="lesson-structure">Lesson Structure<a class="anchor" aria-label="anchor" href="#lesson-structure"></a>
</h2>
<hr class="half-width">
<p>The entire course is organized in short “Episodes” intended to take
around 10-15mins to read and around 5-10mins to complete the challenges
below. You will complete approximately one episode per week. At the end
of each episode, you will upload a script containing the solutions to
the challenges. The file format should be:
<code>lessonnumber_solutions_name_surname.R</code>. Upload the script
containing your solutions to a HeiBox folder and share that folder with
me.</p>
</section><section><h2 class="section-heading" id="a-word-about-chat-gpt">A word about Chat-GPT<a class="anchor" aria-label="anchor" href="#a-word-about-chat-gpt"></a>
</h2>
<hr class="half-width">
<p>Chat-GPT is an amazing tool that makes it much easier to just try
something out. Importantly, it can take a lot of work off your hands,
especially early on in your learning process. Most of the challenges
here can just be solved by plugging them into a LLM like Chat-GPT. I
encourage you to first try to find a solution yourself. You will learn a
lot more by failing yourself first and continuing to try.</p>
<p>Nonetheless, sometimes it may be necessary to ask Chat-GPT or google
a solution. In real data analysis, this is done a lot! Nobody knows
anything. However, the most important thing for now is that you
<em>understand</em> the code you write. Thus, if you use Chat-GPT, make
it explain to you why this code works and what it is doing or ask it for
hints instead of the solution.</p>
</section><section><h2 class="section-heading" id="accompanying-material">Accompanying Material<a class="anchor" aria-label="anchor" href="#accompanying-material"></a>
</h2>
<hr class="half-width">
<p>This course relies heavily on <a href="https://r4ds.hadley.nz/" class="external-link">R for
Data Science (2e)</a>, which can be treated as an accompanying
textbook.</p>
</section><section><h2 class="section-heading" id="questions-support">Questions &amp; Support<a class="anchor" aria-label="anchor" href="#questions-support"></a>
</h2>
<hr class="half-width">
<p>This is the first version of the new course material. If you have any
questions or notice any inconsistencies / opportunities for improvement,
feel free to reach out to to me via mail or Slack. If you feel
comfortable using GitHub, also feel free to submit an <a href="https://github.com/SLesche/r-for-empra/issues" class="external-link">issue</a>.</p>
<p>Some opportunities for improvement are: - Is the material
sufficiently explained? Can you follow? - Are the exercises too
difficult / not enough to practice material learned in an episode? - Are
you missing any information to complete following episodes? - Is there
information missing or information that you do not require?` - Are there
any typos / wrong examples? - Whatever else comes to mind.</p>
<p>Feel free to reach out to me via any of the channels with your
feedback. I will try to implement it as soon as possible. Thank you for
your help in making this course better for coming students!</p>
<div id="keypoints1" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Key Points</h3>
<div class="callout-content">
<ul>
<li>Follow the structured outline to learn R basics and data
analysis</li>
<li>Submit weekly scripts following the specified format</li>
<li>Contact me via mail or Slack for any queries</li>
</ul>
</div>
</div>
</div>
<!--
Place links that you need to refer to multiple times across pages here. Delete
any links that you are not going to use.
 -->
</section></section><section id="aio-r-setup"><p>Content from <a href="r-setup.html">R Setup</a></p>
<hr>
<p>Last updated on 2025-03-14 |

        <a href="https://github.com/SLesche/r-for-empra/edit/main/episodes/r-setup.Rmd" class="external-link">Edit this page <i aria-hidden="true" data-feather="edit"></i></a></p>
<div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right" data-expand="Expand All Solutions " data-collapse="Collapse All Solutions "> Expand All Solutions <i aria-hidden="true" data-feather="plus"></i></button>
        </div>
<div class="overview card">
<h2 class="card-header">Overview</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Questions</h3>
<ul>
<li>What is R, what is R Studio?</li>
<li>How to work with the R console and R scripts?</li>
<li>What is an R package?</li>
</ul>
</div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Objectives</h3>
<ul>
<li>To gain familiarity with the various panes in the RStudio IDE</li>
<li>To gain familiarity with the buttons, short cuts and options in the
RStudio IDE</li>
<li>To understand variables and how to assign to them</li>
<li>To be able to manage your workspace in an interactive R session</li>
<li>To be able to use mathematical and comparison operations</li>
<li>To be able to call functions</li>
<li>Introduction to package management</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<section><h2 class="section-heading" id="introduction-to-rstudio">Introduction to RStudio<a class="anchor" aria-label="anchor" href="#introduction-to-rstudio"></a>
</h2>
<hr class="half-width">
<p>Welcome to the R portion of the Empra. This first lesson is adapted
from <em>resbaz’s</em> <a href="https://github.com/resbaz/Introductory-R-Workshop?tab=readme-ov-file" class="external-link">introction
to R workshop</a>.</p>
<p>Throughout this lesson, you’re going to learn some of the
fundamentals of the R language as well as some best practices for
organizing code for scientific projects that will make your life
easier.</p>
<p>We’ll be using RStudio: a free, open source R integrated development
environment. It provides a built in editor, works on all platforms
(including on servers) and provides many advantages such as integration
with version control and project management.</p>
<p><strong>Basic layout</strong></p>
<p>When you first open RStudio, you will be greeted by three panels:</p>
<ul>
<li>The interactive R console (entire left)</li>
<li>Environment/History (tabbed in upper right)</li>
<li>Files/Plots/Packages/Help/Viewer (tabbed in lower right)</li>
</ul>
<figure><img src="fig/rstudio_layout_screenshot.jpg" alt="Screenshot of the RStudio program." class="figure mx-auto d-block"><div class="figcaption">R Studio Layout with three panes: Console,
Environment and Plots</div>
</figure><p>Once you open files, such as R scripts, an editor panel will also
open in the top left.</p>
</section><section><h2 class="section-heading" id="work-flow-within-rstudio">Work flow within RStudio<a class="anchor" aria-label="anchor" href="#work-flow-within-rstudio"></a>
</h2>
<hr class="half-width">
<p>There are two main ways one can work within RStudio.</p>
<ol style="list-style-type: decimal">
<li>Test and play within the interactive R console then copy code into a
.R file to run later.
<ul>
<li>This works well when doing small tests and initially starting
off.</li>
<li>It quickly becomes laborious</li>
</ul>
</li>
<li>Start writing in an .R file - called a script - and use RStudio’s
command / short cut to push current line, selected lines or modified
lines to the interactive R console.
<ul>
<li>This is a great way to start; all your code is saved for later</li>
<li>You will be able to run the file you create from within RStudio or
using R’s <code>source()</code> function.</li>
</ul>
</li>
</ol>
<p>For now, let’s stick with the console. We will learn more about how
to use R scripts later. Feel free to run all code examples provided here
in your own RStudio console and figure out what they do.</p>
</section><section><h2 class="section-heading" id="introduction-to-the-r-console">Introduction to the R console<a class="anchor" aria-label="anchor" href="#introduction-to-the-r-console"></a>
</h2>
<hr class="half-width">
<p>Much of your time in R will be spent in the R interactive console.
This is where you will run all of your code, and can be a useful
environment to try out ideas before adding them to an R script file.
This console in RStudio is the same as the one you would get if you just
typed in <code>R</code> in your commandline environment.</p>
<p>The first thing you will see in the R interactive session is a bunch
of information, followed by a “&gt;” and a blinking cursor. R operates
on the idea of a “Read, evaluate, print loop”: you type in commands, R
tries to execute them, and then returns a result.</p>
</section><section><h2 class="section-heading" id="using-r-as-a-calculator">Using R as a calculator<a class="anchor" aria-label="anchor" href="#using-r-as-a-calculator"></a>
</h2>
<hr class="half-width">
<p>The simplest thing you could do with R is do arithmetic:</p>
<div class="codewrapper sourceCode" id="cb1">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fl">1</span> <span class="op">+</span> <span class="fl">100</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>[1] 101</code></pre>
</div>
<p>And R will print out the answer, with a preceding “[1]”. Don’t worry
about this for now, we’ll explain that later. For now think of it as
indicating output.</p>
<p>If you type in an incomplete command, R will wait for you to complete
it:</p>
<div class="codewrapper sourceCode" id="cb3">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode r" tabindex="0"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a><span class="dv">1</span> <span class="sc">+</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>+</code></pre>
</div>
<p>Any time you hit return and the R session shows a “+” instead of a
“&gt;”, it means it’s waiting for you to complete the command. If you
want to cancel a command you can simply hit “Esc” and RStudio will give
you back the “&gt;” prompt.</p>
<div id="tip-cancelling-commands" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="tip-cancelling-commands" class="callout-inner">
<h3 class="callout-title">Tip: Cancelling commands</h3>
<div class="callout-content">
<p>If you’re using R from the commandline instead of from within
RStudio, you need to use <code>Ctrl+C</code> instead of <code>Esc</code>
to cancel the command. This applies to Mac users as well!</p>
<p>Cancelling a command isn’t just useful for killing incomplete
commands: you can also use it to tell R to stop running code (for
example if its taking much longer than you expect), or to get rid of the
code you’re currently writing.</p>
</div>
</div>
</div>
<p>When using R as a calculator, the order of operations is the same as
you would have learnt back in school.</p>
<p>From highest to lowest precedence:</p>
<ul>
<li>Parentheses: <code>(</code>, <code>)</code>
</li>
<li>Exponents: <code>^</code> or <code>**</code>
</li>
<li>Divide: <code>/</code>
</li>
<li>Multiply: <code>*</code>
</li>
<li>Add: <code>+</code>
</li>
<li>Subtract: <code>-</code>
</li>
</ul>
<div class="codewrapper sourceCode" id="cb5">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fl">3</span> <span class="op">+</span> <span class="fl">5</span> <span class="op">*</span> <span class="fl">2</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>[1] 13</code></pre>
</div>
<p>Use parentheses to group operations in order to force the order of
evaluation if it differs from the default, or to make clear what you
intend.</p>
<div class="codewrapper sourceCode" id="cb7">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="op">(</span><span class="fl">3</span> <span class="op">+</span> <span class="fl">5</span><span class="op">)</span> <span class="op">*</span> <span class="fl">2</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>[1] 16</code></pre>
</div>
<p>This can get unwieldy when not needed, but clarifies your intentions.
Remember that others may later read your code.</p>
<div class="codewrapper sourceCode" id="cb9">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="op">(</span><span class="fl">3</span> <span class="op">+</span> <span class="op">(</span><span class="fl">5</span> <span class="op">*</span> <span class="op">(</span><span class="fl">2</span> <span class="op">^</span> <span class="fl">2</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="co"># hard to read</span></span>
<span><span class="fl">3</span> <span class="op">+</span> <span class="fl">5</span> <span class="op">*</span> <span class="fl">2</span> <span class="op">^</span> <span class="fl">2</span>       <span class="co"># clear, if you remember the rules</span></span>
<span><span class="fl">3</span> <span class="op">+</span> <span class="fl">5</span> <span class="op">*</span> <span class="op">(</span><span class="fl">2</span> <span class="op">^</span> <span class="fl">2</span><span class="op">)</span>     <span class="co"># if you forget some rules, this might help</span></span></code></pre>
</div>
<p>The text after each line of code is called a “comment”. Anything that
follows after the hash (or octothorpe) symbol <code>#</code> is ignored
by R when it executes code.</p>
<p>Really small or large numbers get a scientific notation:</p>
<div class="codewrapper sourceCode" id="cb10">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fl">2</span><span class="op">/</span><span class="fl">10000</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>[1] 2e-04</code></pre>
</div>
<p>Which is shorthand for “multiplied by <code>10^XX</code>”. So
<code>2e-4</code> is shorthand for <code>2 * 10^(-4)</code>.</p>
<p>You can write numbers in scientific notation too:</p>
<div class="codewrapper sourceCode" id="cb12">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fl">5e3</span>  <span class="co"># Note the lack of minus here</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>[1] 5000</code></pre>
</div>
</section><section><h2 class="section-heading" id="mathematical-functions">Mathematical functions<a class="anchor" aria-label="anchor" href="#mathematical-functions"></a>
</h2>
<hr class="half-width">
<p>R has many built in mathematical functions. To call a function, we
simply type its name, followed by open and closing parentheses. Anything
we type inside the parentheses is called the function’s arguments:</p>
<div class="codewrapper sourceCode" id="cb14">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">sin</span><span class="op">(</span><span class="fl">1</span><span class="op">)</span>  <span class="co"># trigonometry functions</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>[1] 0.841471</code></pre>
</div>
<div class="codewrapper sourceCode" id="cb16">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">log</span><span class="op">(</span><span class="fl">1</span><span class="op">)</span>  <span class="co"># natural logarithm</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>[1] 0</code></pre>
</div>
<div class="codewrapper sourceCode" id="cb18">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">log10</span><span class="op">(</span><span class="fl">10</span><span class="op">)</span> <span class="co"># base-10 logarithm</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>[1] 1</code></pre>
</div>
<div class="codewrapper sourceCode" id="cb20">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">exp</span><span class="op">(</span><span class="fl">0.5</span><span class="op">)</span> <span class="co"># e^(1/2)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>[1] 1.648721</code></pre>
</div>
<p>Don’t worry about trying to remember every function in R. You can
simply look them up on Google, or if you can remember the start of the
function’s name, use the tab completion in RStudio.</p>
<p>This is one advantage that RStudio has over R on its own, it has
autocompletion abilities that allow you to more easily look up
functions, their arguments, and the values that they take.</p>
<p>Typing a <code>?</code> before the name of a command will open the
help page for that command. As well as providing a detailed description
of the command and how it works, scrolling to the bottom of the help
page will usually show a collection of code examples which illustrate
command usage. Try reading the description to the <code>log()</code>
function by typing <code>?log()</code> (or just <code>?log</code>) in
the console.</p>
</section><section><h2 class="section-heading" id="comparing-things">Comparing things<a class="anchor" aria-label="anchor" href="#comparing-things"></a>
</h2>
<hr class="half-width">
<p>Another useful feature of R next to functions are comparisons. Quite
often, we want to see if one value is bigger than another or only use
data with some particular value.</p>
<p>We can check if two values are equal by using the equality operator
<code>==</code>.</p>
<div class="codewrapper sourceCode" id="cb22">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fl">1</span> <span class="op">==</span> <span class="fl">1</span>  <span class="co"># equality (note two equals signs, read as "is equal to")</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>[1] TRUE</code></pre>
</div>
<div class="codewrapper sourceCode" id="cb24">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fl">1</span> <span class="op">!=</span> <span class="fl">2</span>  <span class="co"># inequality (read as "is not equal to")</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>[1] TRUE</code></pre>
</div>
<div class="codewrapper sourceCode" id="cb26">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fl">1</span> <span class="op">&lt;</span>  <span class="fl">0</span>  <span class="co"># less than</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>[1] FALSE</code></pre>
</div>
<div class="codewrapper sourceCode" id="cb28">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fl">1</span> <span class="op">&lt;=</span> <span class="fl">1</span>  <span class="co"># less than or equal to</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>[1] TRUE</code></pre>
</div>
<div class="codewrapper sourceCode" id="cb30">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fl">1</span> <span class="op">&gt;</span> <span class="fl">1</span>  <span class="co"># greater than</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>[1] FALSE</code></pre>
</div>
<div class="codewrapper sourceCode" id="cb32">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fl">1</span> <span class="op">&gt;=</span> <span class="fl">1</span> <span class="co"># greater than or equal to</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>[1] TRUE</code></pre>
</div>

</section><section><h2 class="section-heading" id="variables-and-assignment">Variables and assignment<a class="anchor" aria-label="anchor" href="#variables-and-assignment"></a>
</h2>
<hr class="half-width">
<p>In the previous example, we simply used numbers to do comparisons.
However, most work in R will be done using <em>variables</em>. A
variable can be any quality, quantity or property we might be interested
in, like a response time, a score on a personality test or a diagnosis.
We can store values in variables using the assignment operator
<code>&lt;-</code>, like this:</p>
<div class="codewrapper sourceCode" id="cb34">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fl">1</span><span class="op">/</span><span class="fl">40</span></span></code></pre>
</div>
<p>Notice that assignment does not print a value. Instead, we stored it
for later in something called a <strong>variable</strong>.
<code>x</code> now contains the <strong>value</strong>
<code>0.025</code>:</p>
<div class="codewrapper sourceCode" id="cb35">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">x</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>[1] 0.025</code></pre>
</div>

<p>Look for the <code>Environment</code> tab in one of the panes of
RStudio, and you will see that <code>x</code> and its value have
appeared. Our variable <code>x</code> can be used in place of a number
in any calculation that expects a number:</p>
<div class="codewrapper sourceCode" id="cb37">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">log</span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>[1] -3.688879</code></pre>
</div>
<p>Notice also that variables can be reassigned:</p>
<div class="codewrapper sourceCode" id="cb39">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fl">100</span></span></code></pre>
</div>
<p><code>x</code> used to contain the value 0.025 and and now it has the
value 100.</p>
<p>We can also update the value of a variable and store it with the same
name again.</p>
<div class="codewrapper sourceCode" id="cb40">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="va">x</span> <span class="op">+</span> <span class="fl">1</span> <span class="co">#notice how RStudio updates its description of x on the top right tab</span></span></code></pre>
</div>
<p>The right hand side of the assignment can be any valid R expression.
The right hand side is <em>fully evaluated</em> before the assignment
occurs. This means that in the above example, <code>x + 1</code> is
evaluated first and the result is only then assigned to the new
<code>x</code>.</p>
<p>Variable names can contain letters, numbers, underscores and periods.
They cannot start with a number nor contain spaces at all. Different
people use different conventions for long variable names, these
include</p>
<ul>
<li>periods.between.words</li>
<li>underscores_between_words</li>
<li>camelCaseToSeparateWords</li>
</ul>
<p>What you use is up to you, but <strong>be consistent</strong>.</p>
<div class="codewrapper sourceCode" id="cb41">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">this_is_okay</span></span>
<span></span>
<span><span class="va">this.is.also.okay</span></span>
<span></span>
<span><span class="va">someUseCamelCase</span></span>
<span></span>
<span><span class="va">dont_be.aMenace_toSociety</span></span></code></pre>
</div>
<p>I always use <code>snake_case</code> for variable names in R.
<code>camelCase</code> is often used in other programming languages such
as MATLAB or JavaScript.</p>
<div id="callout3" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Callout</h3>
<div class="callout-content">
<p>It is also possible to use the <code>=</code> operator for
assignment:</p>
<div class="codewrapper sourceCode" id="cb42">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">x</span> <span class="op">=</span> <span class="fl">1</span><span class="op">/</span><span class="fl">40</span></span></code></pre>
</div>
<p>But this is much less common among R users. The most important thing
is to <strong>be consistent</strong> with the operator you use. There
are occasionally places where it is less confusing to use
<code>&lt;-</code> than <code>=</code>, and it is the most common symbol
used in the community. So the recommendation is to use
<code>&lt;-</code>.</p>
</div>
</div>
</div>
<p>If we try to give a variable an invalid name, R will throw an
error.</p>
<div class="codewrapper sourceCode" id="cb43">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode r" tabindex="0"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1" tabindex="-1"></a><span class="dv">2</span>_times_x <span class="ot">=</span> <span class="dv">2</span><span class="sc">*</span>x</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">ERROR<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="error" tabindex="0"><code>Error in parse(text = input): &lt;text&gt;:1:2: unexpected input
1: 2_
     ^</code></pre>
</div>
<div id="tip-warnings-vs.-errors" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="tip-warnings-vs.-errors" class="callout-inner">
<h3 class="callout-title">Tip: Warnings vs. Errors</h3>
<div class="callout-content">
<p>Pay attention when R does something unexpected! Errors, like above,
are thrown when R cannot proceed with a calculation. Warnings on the
other hand usually mean that the function has run, but it probably
hasn’t worked as expected.</p>
<p>In both cases, the message that R prints out usually give you clues
how to fix a problem.</p>
<p>Errors can be frustrating, but they are your friend! They tell you
that something went wrong and usually give you an informative message as
to what went wrong. If you cannot make something of the error message,
try pasting it into Google or Chat-GPT, this will often help.</p>
</div>
</div>
</div>
</section><section><h2 class="section-heading" id="challenges">Challenges<a class="anchor" aria-label="anchor" href="#challenges"></a>
</h2>
<hr class="half-width">
<div id="challenge-1" class="callout discussion">
<div class="callout-square">
<i class="callout-icon" data-feather="message-circle"></i>
</div>
<div id="challenge-1" class="callout-inner">
<h3 class="callout-title">Challenge 1</h3>
<div class="callout-content">
<p>Which of the following are valid R variable names? Feel free to try
them all out in R and figure out which produce errors and why.</p>
<div class="codewrapper sourceCode" id="cb45">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode r" tabindex="0"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1" tabindex="-1"></a>min_height</span>
<span id="cb45-2"><a href="#cb45-2" tabindex="-1"></a>max.height</span>
<span id="cb45-3"><a href="#cb45-3" tabindex="-1"></a>_age</span>
<span id="cb45-4"><a href="#cb45-4" tabindex="-1"></a>.mass</span>
<span id="cb45-5"><a href="#cb45-5" tabindex="-1"></a>MaxLength</span>
<span id="cb45-6"><a href="#cb45-6" tabindex="-1"></a>min<span class="sc">-</span>length</span>
<span id="cb45-7"><a href="#cb45-7" tabindex="-1"></a><span class="dv">2</span>widths</span>
<span id="cb45-8"><a href="#cb45-8" tabindex="-1"></a>celsius2kelvin</span></code></pre>
</div>
</div>
</div>
</div>
<div id="challenge-2" class="callout discussion">
<div class="callout-square">
<i class="callout-icon" data-feather="message-circle"></i>
</div>
<div id="challenge-2" class="callout-inner">
<h3 class="callout-title">Challenge 2</h3>
<div class="callout-content">
<p>What will be the value of each variable after each statement in the
following program? You are encouraged to run these commands in R.</p>
<div class="codewrapper sourceCode" id="cb46">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">mass</span> <span class="op">&lt;-</span> <span class="fl">47.5</span></span>
<span><span class="va">age</span> <span class="op">&lt;-</span> <span class="fl">122</span></span>
<span><span class="va">mass</span> <span class="op">&lt;-</span> <span class="va">mass</span> <span class="op">*</span> <span class="fl">2.3</span></span>
<span><span class="va">age</span> <span class="op">&lt;-</span> <span class="va">age</span> <span class="op">-</span> <span class="fl">20</span></span></code></pre>
</div>
</div>
</div>
</div>
<div id="challenge-3" class="callout discussion">
<div class="callout-square">
<i class="callout-icon" data-feather="message-circle"></i>
</div>
<div id="challenge-3" class="callout-inner">
<h3 class="callout-title">Challenge 3</h3>
<div class="callout-content">
<p>Run the code from the previous challenge, and write a command to
compare mass to age. Is mass larger than age?</p>
</div>
</div>
</div>
<div id="keypoints1" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Key Points</h3>
<div class="callout-content">
<ul>
<li>R Studio is a shiny environment that helps you write R code</li>
<li>You can either write code directly in the console, or use script to
organize and save your code</li>
<li>You can assign variables using <code>&lt;-</code>
</li>
<li>Be consistent in naming variables, other people should be able to
read and understand your code</li>
</ul>
</div>
</div>
</div>
<!--
Place links that you need to refer to multiple times across pages here. Delete
any links that you are not going to use.
 -->
</section></section><section id="aio-packages"><p>Content from <a href="packages.html">Packages in R</a></p>
<hr>
<p>Last updated on 2025-03-14 |

        <a href="https://github.com/SLesche/r-for-empra/edit/main/episodes/packages.Rmd" class="external-link">Edit this page <i aria-hidden="true" data-feather="edit"></i></a></p>
<div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right" data-expand="Expand All Solutions " data-collapse="Collapse All Solutions "> Expand All Solutions <i aria-hidden="true" data-feather="plus"></i></button>
        </div>
<div class="overview card">
<h2 class="card-header">Overview</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Questions</h3>
<ul>
<li>What is an R package?</li>
<li>How can we use R packages</li>
</ul>
</div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Objectives</h3>
<ul>
<li>Explain how to use R packages</li>
<li>Explain how to install R packages</li>
<li>Understand the difference between installing and loading an R
package</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<section><h2 class="section-heading" id="r-packages">R Packages<a class="anchor" aria-label="anchor" href="#r-packages"></a>
</h2>
<hr class="half-width">
<p>Per default, R provides you with some basic functions like
<code>sum()</code>, <code>mean()</code> or <code>t.test()</code>. These
functions can already accomplish a lot, but for more specialized
analyses or more user-friendly functions, you might want to use
additional functions.</p>
<p>If you are in need of a specific function to achieve your goal, you
can either write it yourself (more on this later) or use functions
written by other users. These functions are often collected in so-called
“packages”. The official source for these packages on R is CRAN (the
comprehensive R archive network).</p>
<div id="packages-you-may-encounter" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="packages-you-may-encounter" class="callout-inner">
<h3 class="callout-title">Packages you may encounter</h3>
<div class="callout-content">
<p>Packages make R really powerful. For 95% of your analysis-needs,
there probably exists a package designed specifically to hand this. For
example, some packages you might use often are <code>tidyverse</code>
for data cleaning, <code>psych</code> for some psychology specific
functions, <code>afex</code> for ANOVAs or <code>lme4</code> for
multi-level models. You can even use R packages for more complicated
analyses like structural equation models (<code>lavaan</code>) or
bayesian modeling (<code>brms</code>). You can even write papers using R
using <code>papaya</code>. Even this website was written using the
R-packages <code>rmarkdown</code> and <code>sandpaper</code>.</p>
</div>
</div>
</div>
<p>CRAN makes it really easy to use the over 7000 R packages other users
provide. You can install them using
<code>install.packages("packagename")</code> with the name of the
package in quotation marks. This installs all functionalities of this
packages on your machine. However, this package is not automatically
available to you. Before using it in a script (or the console) you need
to tell R to “activate” this package. You can do this using
<code>library(packagename)</code>. This avoids loading all installed
packages every time R is starting (which would take a while).</p>
<div id="using-functions-without-loading-a-package" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="using-functions-without-loading-a-package" class="callout-inner">
<h3 class="callout-title">Using functions without loading a package</h3>
<div class="callout-content">
<p>If you are only using a few functions from a certain package (maybe
even only once), you can avoid loading the entire package and only
specifically access that function using the <code>::</code> operator.
You can do this by typing <code>packagename::function()</code>. If the
package is installed, it will allow you to use that function without
calling <code>library(packagename)</code> first. This may also be useful
in cases where you want to allow the reader of your code to easily
understand what package you used for a certain function.</p>
</div>
</div>
</div>
<div class="section level3">
<h3 id="demonstration">Demonstration<a class="anchor" aria-label="anchor" href="#demonstration"></a>
</h3>
<p>First, we need to install a package. This will often generate a lot
of text in your console. This is nothing to worry about. In most cases,
it is enough to look at the last few messages, they will tell you what
went wrong or whether everything went right.</p>
<div class="codewrapper sourceCode" id="cb1">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">install.packages</span><span class="op">(</span><span class="st">"dplyr"</span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>The following package(s) will be installed:
- dplyr [1.1.4]
These packages will be installed into "~/work/r-for-empra/r-for-empra/renv/profiles/lesson-requirements/renv/library/linux-ubuntu-jammy/R-4.4/x86_64-pc-linux-gnu".

# Installing packages --------------------------------------------------------
- Installing dplyr ...                          OK [linked from cache]
Successfully installed 1 package in 7.3 milliseconds.</code></pre>
</div>
<p>Then, we will need to load the package to make its functions
available for use. For most packages, this will also print a lot of
messages in the console in the bottom left. Again, this is usually
harmless. If something does go wrong, you will see the word
<code>Error:</code> along with a message somewhere.
<code>Warnings:</code> can often be ignored in package installation.</p>
<div class="codewrapper sourceCode" id="cb3">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Loading the package dplyr</span></span>
<span><span class="kw">library</span><span class="op">(</span><span class="va">dplyr</span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>
Attaching package: 'dplyr'</code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>The following objects are masked from 'package:stats':

    filter, lag</code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>The following objects are masked from 'package:base':

    intersect, setdiff, setequal, union</code></pre>
</div>
<p>Now we can use all the functions that <code>dplyr</code> provides.
Let’s start by using <code>glimpse()</code> to get a quick glance at
some data. For this case, we are using the <code>iris</code> data, that
comes with your default R installation.</p>
<div class="codewrapper sourceCode" id="cb7">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># iris is a dataset provided as default in R</span></span>
<span><span class="fu">glimpse</span><span class="op">(</span><span class="va">iris</span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>Rows: 150
Columns: 5
$ Sepal.Length &lt;dbl&gt; 5.1, 4.9, 4.7, 4.6, 5.0, 5.4, 4.6, 5.0, 4.4, 4.9, 5.4, 4.…
$ Sepal.Width  &lt;dbl&gt; 3.5, 3.0, 3.2, 3.1, 3.6, 3.9, 3.4, 3.4, 2.9, 3.1, 3.7, 3.…
$ Petal.Length &lt;dbl&gt; 1.4, 1.4, 1.3, 1.5, 1.4, 1.7, 1.4, 1.5, 1.4, 1.5, 1.5, 1.…
$ Petal.Width  &lt;dbl&gt; 0.2, 0.2, 0.2, 0.2, 0.2, 0.4, 0.3, 0.2, 0.2, 0.1, 0.2, 0.…
$ Species      &lt;fct&gt; setosa, setosa, setosa, setosa, setosa, setosa, setosa, s…</code></pre>
</div>
<div class="codewrapper sourceCode" id="cb9">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Using a function without loading the entire package</span></span>
<span><span class="co"># dplyr::glimpse(iris)</span></span></code></pre>
</div>
<p>Here, we can see that <code>iris</code> has 150 rows (or
observations) and 5 columns (or variables). The first four variables are
size measurements regarding length and width of sepal and petal and the
fifth variable is a variable containing the species of flower.</p>
</div>
</section><section><h2 class="section-heading" id="challenges">Challenges<a class="anchor" aria-label="anchor" href="#challenges"></a>
</h2>
<hr class="half-width">
<div id="challenge-1" class="callout discussion">
<div class="callout-square">
<i class="callout-icon" data-feather="message-circle"></i>
</div>
<div id="challenge-1" class="callout-inner">
<h3 class="callout-title">Challenge 1:</h3>
<div class="callout-content">
<p>Install the following packages: <code>dplyr</code>,
<code>ggplot2</code>, and <code>psych</code>.</p>
</div>
</div>
</div>
<div id="challenge-2" class="callout discussion">
<div class="callout-square">
<i class="callout-icon" data-feather="message-circle"></i>
</div>
<div id="challenge-2" class="callout-inner">
<h3 class="callout-title">Challenge 2:</h3>
<div class="callout-content">
<p>Load the package <code>dplyr</code> and get an overview of the data
<code>mtcars</code> using <code>glimpse()</code>.</p>
</div>
</div>
</div>
<div id="challenge-3" class="callout discussion">
<div class="callout-square">
<i class="callout-icon" data-feather="message-circle"></i>
</div>
<div id="challenge-3" class="callout-inner">
<h3 class="callout-title">Challenge 3:</h3>
<div class="callout-content">
<p>Figure out what kind of data <code>mtcars</code> contains. Make a
list of the columns in the dataset and what they might mean.</p>
<div id="hint" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="hint" class="callout-inner">
<h3 class="callout-title">Hint</h3>
<div class="callout-content">
<p>You are allowed to use Google (or other sources) for this. It is
common practice to google information you don’t know or look online for
code that might help.</p>
</div>
</div>
</div>
</div>
</div>
</div>
<div id="challenge-4" class="callout discussion">
<div class="callout-square">
<i class="callout-icon" data-feather="message-circle"></i>
</div>
<div id="challenge-4" class="callout-inner">
<h3 class="callout-title">Challenge 4:</h3>
<div class="callout-content">
<p>Use the function <code>describe()</code> from the package
<code>psych</code> <em>without</em> loading it first.</p>
<p>What differences do you notice between <code>glimpse()</code> and
<code>describe()</code>?</p>
</div>
</div>
</div>
<div id="keypoints1" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Key Points</h3>
<div class="callout-content">
<ul>
<li>R packages are “add-ons” to R, they provide useful new tools.</li>
<li>Install a package using
<code>install.packages("packagename")</code>.</li>
<li>Use a package using <code>library(packagename)</code> at the
beginning of your script.</li>
<li>Use <code>::</code> to access specific functions from a package
without loading it entirely.</li>
</ul>
</div>
</div>
</div>
<!--
Place links that you need to refer to multiple times across pages here. Delete
any links that you are not going to use.
 -->
</section></section><section id="aio-scripts-and-vectors"><p>Content from <a href="scripts-and-vectors.html">Vectors and variable types</a></p>
<hr>
<p>Last updated on 2025-03-14 |

        <a href="https://github.com/SLesche/r-for-empra/edit/main/episodes/scripts-and-vectors.Rmd" class="external-link">Edit this page <i aria-hidden="true" data-feather="edit"></i></a></p>
<div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right" data-expand="Expand All Solutions " data-collapse="Collapse All Solutions "> Expand All Solutions <i aria-hidden="true" data-feather="plus"></i></button>
        </div>
<div class="overview card">
<h2 class="card-header">Overview</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Questions</h3>
<ul>
<li>How do you use scripts in R to document your work?</li>
<li>How can you organize scripts effectively?</li>
<li>What is a vector?</li>
</ul>
</div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Objectives</h3>
<ul>
<li>Show how to use scripts to generate reproducible analyses</li>
<li>Explain what a vector is</li>
<li>Explain variable types</li>
<li>Show examples of <code>sum()</code> and <code>mean()</code>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<section><h2 class="section-heading" id="scripts-in-r">Scripts in R<a class="anchor" aria-label="anchor" href="#scripts-in-r"></a>
</h2>
<hr class="half-width">
<p>For now, we have been only using the R console to execute commands.
This works great if there are some quick calculations you have to run,
but is unsuited for more complex analyses. If you want to reproduce the
exact steps you took in data cleaning and analyses, you need to write
them down - like a recipe.</p>
<p>This is where R scripts come in. They are basically like a text file
(similar to Word) where you can write down all the steps you took. This
makes it possible to retrace them and produce the exact same result over
and over again.</p>
<p>In order to use R scripts effectively, you need to do two things.
Firstly, you need to write them in a way that is understandable in the
future. We will learn more about how to write clean code in future
lessons. Secondly (and maybe more importantly) you need to actually
<strong>save</strong> these scripts on your computer, and ideally save
them in a place where you can find them again. The place where you save
your script and especially the place you save your data should ideally
be a folder in a sensible place. For example, this script is saved in a
sub-folder <code>episodes/</code> of the workshop folder
<code>r_for_empra/</code>. This makes it easy for humans to find the
script. Aim for similar clarity in your folder structure!</p>
<p>For this lesson, create a folder called <code>r_for_empra</code>
somewhere on your computer where it makes sense for you. Then, create a
new R script by clicking <code>File &gt; New File &gt; R Script</code>
or hitting <code>Ctrl + Shift + N</code>. Save this script as
<code>episode_projects_and_scripts.R</code> in the folder
<code>r_for_empra</code> created above. Follow along with the episode
and note down the commands in your script.</p>
</section><section><h2 class="section-heading" id="using-a-script">Using a script<a class="anchor" aria-label="anchor" href="#using-a-script"></a>
</h2>
<hr class="half-width">
<p>Let’s start learning about some basic elements of R programming. We
have already tried assigning values to variables using the
<code>&lt;-</code> operator. For example, we might assign the constant
<code>km_to_m</code> the value 1000.</p>
<div class="codewrapper sourceCode" id="cb1">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">km_to_m</span> <span class="op">&lt;-</span> <span class="fl">1000</span></span></code></pre>
</div>
<p>Now, if we had data on distances in km, we could also use this value
to compute the distance in meters.</p>
<div class="codewrapper sourceCode" id="cb2">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">distance_a_to_b_km</span> <span class="op">&lt;-</span> <span class="fl">7.56</span></span>
<span></span>
<span><span class="va">distance_a_to_b_m</span> <span class="op">&lt;-</span> <span class="va">distance_a_to_b_km</span> <span class="op">*</span> <span class="va">km_to_m</span></span></code></pre>
</div>
<p>If we have multiple distances and want to transform them from km to m
at the same time, we can make use of a vector. A vector is just a
collection of elements. We can create a vector using the function
<code>c()</code> (for <em>combine</em>).</p>
<div id="tip-running-segments-of-your-code" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="tip-running-segments-of-your-code" class="callout-inner">
<h3 class="callout-title">Tip: Running segments of your code</h3>
<div class="callout-content">
<p>RStudio offers you great flexibility in running code from within the
editor window. There are buttons, menu choices, and keyboard shortcuts.
To run the current line, you can 1. click on the <code>Run</code> button
just above the editor panel, or 2. select “Run Lines” from the “Code”
menu, or 3. hit <code>Ctrl + Enter</code> in Windows or Linux or
Command-Enter on OS X. (This shortcut can also be seen by hovering the
mouse over the button). To run a block of code, select it and then
<code>Run</code> via the button or the keyboard-shortcut
<code>Ctrl + Enter</code>.</p>
</div>
</div>
</div>
</section><section><h2 class="section-heading" id="variable-types">Variable Types<a class="anchor" aria-label="anchor" href="#variable-types"></a>
</h2>
<hr class="half-width">
<p>Vectors can only contain values of the same type. There are two basic
types of variables that you will have to interact with - numeric and
character variables. Numeric variables are any numbers, character
variables are bits of text.</p>
<div class="codewrapper sourceCode" id="cb3">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># These are numeric variables:</span></span>
<span><span class="va">vector_of_numeric_variables</span> <span class="op">&lt;-</span> <span class="fu">c</span><span class="op">(</span><span class="fl">4</span>, <span class="fl">7.642</span>, <span class="fl">9e5</span>, <span class="fl">1</span><span class="op">/</span><span class="fl">97</span><span class="op">)</span> <span class="co"># recall, 9e5 = 9*10^5</span></span>
<span></span>
<span><span class="co"># Show the output</span></span>
<span><span class="va">vector_of_numeric_variables</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>[1] 4.000000e+00 7.642000e+00 9.000000e+05 1.030928e-02</code></pre>
</div>
<div class="codewrapper sourceCode" id="cb5">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># These are character variables:</span></span>
<span><span class="va">vector_of_character_variables</span> <span class="op">&lt;-</span> <span class="fu">c</span><span class="op">(</span><span class="st">"This is a character variable"</span>, <span class="st">"A second variable"</span>, <span class="st">"And another one"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Show the output</span></span>
<span><span class="va">vector_of_character_variables</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>[1] "This is a character variable" "A second variable"
[3] "And another one"             </code></pre>
</div>
<p>We can not only combine single elements into a vector, but also
combine multiple vectors into one long vector.</p>
<div class="codewrapper sourceCode" id="cb7">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">numeric_vector_1</span> <span class="op">&lt;-</span> <span class="fu">c</span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">3</span>, <span class="fl">4</span>, <span class="fl">5</span><span class="op">)</span></span>
<span><span class="va">numeric_vector_2</span> <span class="op">&lt;-</span> <span class="fu">c</span><span class="op">(</span><span class="fl">6</span><span class="op">:</span><span class="fl">10</span><span class="op">)</span> <span class="co"># 6:10 generates the values 6, 7, 8, 9, 10</span></span>
<span></span>
<span><span class="va">combined_vector</span> <span class="op">&lt;-</span> <span class="fu">c</span><span class="op">(</span><span class="va">numeric_vector_1</span>, <span class="va">numeric_vector_2</span><span class="op">)</span></span></code></pre>
</div>
<p>Recall that all elements have to be of the same type. If you try to
combine numeric vectors with character vectors, R will automatically
convert everything to a character vector (as this has less restrictions,
anything can be a character).</p>
<div class="codewrapper sourceCode" id="cb8">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">character_vector_1</span> <span class="op">&lt;-</span> <span class="fu">c</span><span class="op">(</span><span class="st">"5"</span>, <span class="st">"6"</span>, <span class="st">"7"</span><span class="op">)</span></span>
<span><span class="co"># Note that the numbers are now in quotation marks!</span></span>
<span><span class="co"># They will be treated as characters, not numerics!</span></span>
<span></span>
<span><span class="va">combining_numeric_and_character</span> <span class="op">&lt;-</span> <span class="fu">c</span><span class="op">(</span><span class="va">numeric_vector_1</span>, <span class="va">character_vector_1</span><span class="op">)</span></span></code></pre>
</div>
<p>We can fix this issue by converting the vectors to the same type.
Note how the characters are also just numbers, but in quotation marks.
Sometimes, this happens in real data, too. Some programs store every
variable as a character (sometimes also called <em>string</em>). We then
have to convert the numbers back to the number format:</p>
<div class="codewrapper sourceCode" id="cb9">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">converted_character_vector_1</span> <span class="op">&lt;-</span> <span class="fu">as.numeric</span><span class="op">(</span><span class="va">character_vector_1</span><span class="op">)</span></span>
<span></span>
<span><span class="va">combining_numeric_and_converted_character</span> <span class="op">&lt;-</span> <span class="fu">c</span><span class="op">(</span><span class="va">numeric_vector_1</span>, <span class="va">converted_character_vector_1</span><span class="op">)</span></span>
<span></span>
<span><span class="va">combining_numeric_and_converted_character</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>[1] 1 2 3 4 5 5 6 7</code></pre>
</div>
<p>But be careful, this conversion does not always work! If R does not
know how to convert a specific character to a number, it will simply
replace this with <code>NA</code>.</p>
<div class="codewrapper sourceCode" id="cb11">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">character_vector_2</span> <span class="op">&lt;-</span> <span class="fu">c</span><span class="op">(</span><span class="st">"10"</span>, <span class="st">"11"</span>, <span class="st">"text"</span><span class="op">)</span></span>
<span><span class="co"># The value "text", can not be interpreted as a number</span></span>
<span></span>
<span><span class="fu">as.numeric</span><span class="op">(</span><span class="va">character_vector_2</span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">WARNING<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="warning" tabindex="0"><code>Warning: NAs introduced by coercion</code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>[1] 10 11 NA</code></pre>
</div>
<div id="inspecting-the-type-of-a-variable" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="inspecting-the-type-of-a-variable" class="callout-inner">
<h3 class="callout-title">Inspecting the type of a variable</h3>
<div class="callout-content">
<p>You can use the function <code>str()</code> to learn about the
structure of a variable. The first entry of the output tells us about
the type of the variable.</p>
<div class="codewrapper sourceCode" id="cb14">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">str</span><span class="op">(</span><span class="va">vector_of_numeric_variables</span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code> num [1:4] 4.00 7.64 9.00e+05 1.03e-02</code></pre>
</div>
<p>This tells us that there is a numeric vector, hence <em>num</em>,
with 4 elements.</p>
<div class="codewrapper sourceCode" id="cb16">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">str</span><span class="op">(</span><span class="va">vector_of_character_variables</span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code> chr [1:3] "This is a character variable" "A second variable" ...</code></pre>
</div>
<p>This tells us that there is a character vector, hence <em>chr</em>,
with 3 elements.</p>
<div class="codewrapper sourceCode" id="cb18">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">str</span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">5</span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code> int [1:5] 1 2 3 4 5</code></pre>
</div>
<p>Note that this prints <em>int</em> and not the usual <em>num</em>.
This is because the vector only contains integers, so whole numbers.
These are stored in a special type that takes up less memory, because
the numbers need to be stored with less precision. You can treat it as
very similar to a numeric vector, and do all the same wonderful things
with it!</p>
</div>
</div>
</div>
</section><section><h2 class="section-heading" id="simple-functions-for-vectors">Simple functions for vectors<a class="anchor" aria-label="anchor" href="#simple-functions-for-vectors"></a>
</h2>
<hr class="half-width">
<p>Let’s use something more exciting than a sequence from 1 to 10 as an
example vector. Here, we use the <code>mtcars</code> data that you
already got to know in an earlier lesson. <code>mtcars</code> carries
information about cars, like their name, fuel usage, weight, etc. This
information is stored in a <em>data frame</em>. A data frame is a
rectangular collection of variables (in the columns) and observations
(in the rows). In order to extract vectors from a data frame we can use
the <code>$</code> operator. <code>data$column</code> extracts a
vector.</p>
<div class="codewrapper sourceCode" id="cb20">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">mtcars_weight_tons</span> <span class="op">&lt;-</span> <span class="va">mtcars</span><span class="op">$</span><span class="va">wt</span> </span>
<span></span>
<span><span class="co"># note that it is a good idea to include the unit in the variable name</span></span>
<span><span class="va">mtcars_weight_tons</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code> [1] 2.620 2.875 2.320 3.215 3.440 3.460 3.570 3.190 3.150 3.440 3.440 4.070
[13] 3.730 3.780 5.250 5.424 5.345 2.200 1.615 1.835 2.465 3.520 3.435 3.840
[25] 3.845 1.935 2.140 1.513 3.170 2.770 3.570 2.780</code></pre>
</div>
<p>Let’s start learning some basic information about this vector:</p>
<div class="codewrapper sourceCode" id="cb22">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">str</span><span class="op">(</span><span class="va">mtcars_weight_tons</span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code> num [1:32] 2.62 2.88 2.32 3.21 3.44 ...</code></pre>
</div>
<p>The vector is of type numeric and contains 32 entries. We can double
check this by looking into our environment tab, where
<code>num [1:32]</code> indicates just that. Similarly, we can get the
length of a vector by using <code>length()</code></p>
<div class="codewrapper sourceCode" id="cb24">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">length</span><span class="op">(</span><span class="va">mtcars_weight_tons</span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>[1] 32</code></pre>
</div>
<p>We can compute some basic descriptive information of the weight of
cars in the <code>mtcars</code> data using base-R functions:</p>
<div class="codewrapper sourceCode" id="cb26">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Mean weight:</span></span>
<span><span class="fu">mean</span><span class="op">(</span><span class="va">mtcars_weight_tons</span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>[1] 3.21725</code></pre>
</div>
<div class="codewrapper sourceCode" id="cb28">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Median weight:</span></span>
<span><span class="fu">median</span><span class="op">(</span><span class="va">mtcars_weight_tons</span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>[1] 3.325</code></pre>
</div>
<div class="codewrapper sourceCode" id="cb30">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Standard deviation:</span></span>
<span><span class="fu">sd</span><span class="op">(</span><span class="va">mtcars_weight_tons</span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>[1] 0.9784574</code></pre>
</div>
<p>To get the minimum and maximum value, we can use <code>min()</code>
and <code>max()</code>.</p>
<p>We can also get a quick overview of the weight distribution using
<code>hist()</code>, which generates a simple histogram.</p>
<div class="codewrapper sourceCode" id="cb32">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">hist</span><span class="op">(</span><span class="va">mtcars_weight_tons</span><span class="op">)</span></span></code></pre>
</div>
<figure><img src="fig/scripts-and-vectors-rendered-unnamed-chunk-16-1.png" style="display: block; margin: auto;" class="figure mx-auto d-block"></figure><div id="histograms" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="histograms" class="callout-inner">
<h3 class="callout-title">Histograms</h3>
<div class="callout-content">
<p>Histograms are a more powerful tools than it seems on first glance.
They allow you to simply gather knowledge about the distribution of your
data. This is especially important for us psychologists. Do we have
ceiling effects in the task? Were some response options even used? How
is response time distributed?</p>
<p>If your histogram is not detailed enough, try adjusting the
<code>breaks</code> parameter. This tells <code>hist()</code> how many
bars to print in the plot.</p>
<div class="codewrapper sourceCode" id="cb33">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">hist</span><span class="op">(</span><span class="va">mtcars_weight_tons</span>, breaks <span class="op">=</span> <span class="fl">30</span><span class="op">)</span></span></code></pre>
</div>
<figure><img src="fig/scripts-and-vectors-rendered-unnamed-chunk-17-1.png" style="display: block; margin: auto;" class="figure mx-auto d-block"></figure><p>The golden rule for the number of breaks is simple: try it until it
looks good! You are free to explore here.</p>
</div>
</div>
</div>
<p>Another useful function is <code>unique()</code>. This function
removes duplicates and only returns unique values. I use it a lot in
experimental data. Since every participant contributes multiple trials,
but I am sometimes interested in values a participant only contributes
once, I can use <code>unique()</code> to only retain each value
once.</p>
<p>In <code>mtcars</code> data, we might want to see how many cylinders
are possible in the data. <code>unique(mtcars$cyl)</code> is much easier
to read at a glance.</p>
<div id="tip-unique-length-quick-count" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="tip-unique-length-quick-count" class="callout-inner">
<h3 class="callout-title">Tip: Unique + Length = Quick Count</h3>
<div class="callout-content">
<p>Combining <code>unique()</code> and <code>length()</code> leads to a
really useful property. This returns the number of unique entries in a
vector. I use it almost daily! For example to figure out how many
participants are in a given data frame.
<code>unique(data$participant_id)</code> returns all the different
participant ids and <code>length(unique(data$participant_id))</code>
then gives me the number of different ids, so the number of participants
in my data.</p>
</div>
</div>
</div>
</section><section><h2 class="section-heading" id="indexing-and-slicing-vectors">Indexing and slicing vectors<a class="anchor" aria-label="anchor" href="#indexing-and-slicing-vectors"></a>
</h2>
<hr class="half-width">
<p>There is one more important thing to learn about vectors before we
move on to more complicated data structures. Most often, you are going
to use the whole vector for computation. But sometimes you may only want
the first 150 entries, or only entries belonging to a certain group.
Here, you must be able to access specific elements of the vector.</p>
<p>In the simplest case, you can access the <span class="math inline">\(n\)</span>th element in a vector by using
<code>vector[n]</code>. To access the first entry, use
<code>vector[1]</code>, and so on.</p>
<div class="codewrapper sourceCode" id="cb34">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">test_indexing_vector</span> <span class="op">&lt;-</span> <span class="fu">seq</span><span class="op">(</span><span class="fl">1</span>, <span class="fl">32</span>, <span class="fl">1</span><span class="op">)</span> </span>
<span><span class="co"># Seq generates a sequence from the first argument (1) to the second argument (32) </span></span>
<span><span class="co"># The size of the steps is given by the third argument</span></span>
<span></span>
<span><span class="va">test_indexing_vector</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code> [1]  1  2  3  4  5  6  7  8  9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25
[26] 26 27 28 29 30 31 32</code></pre>
</div>
<div class="codewrapper sourceCode" id="cb36">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">test_indexing_vector</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>[1] 1</code></pre>
</div>
<div class="codewrapper sourceCode" id="cb38">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">test_indexing_vector</span><span class="op">[</span><span class="fu">c</span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span><span class="op">)</span><span class="op">]</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>[1] 1 2</code></pre>
</div>
<p>You can also remove an element (or multiple) from a vector by using a
negative sign <code>-</code>.</p>
<div class="codewrapper sourceCode" id="cb40">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">test_indexing_vector</span><span class="op">[</span><span class="op">-</span><span class="fu">c</span><span class="op">(</span><span class="fl">11</span><span class="op">:</span><span class="fl">32</span><span class="op">)</span><span class="op">]</span> <span class="co"># this removes all indexes from 11 to 32</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code> [1]  1  2  3  4  5  6  7  8  9 10</code></pre>
</div>
<p>The same rules apply for all types of vectors (numeric and
character).</p>
<div id="tip-think-about-the-future" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="tip-think-about-the-future" class="callout-inner">
<h3 class="callout-title">Tip: Think about the future</h3>
<div class="callout-content">
<p>Excluding by index is a simple way to clean vectors. However, think
about what happens if you accidentally run the command
<code>vector &lt;- vector[-1]</code> twice, instead of once?</p>
</div>
</div>
</div>
<div id="accordionSolution1" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution1" aria-expanded="false" aria-controls="collapseSolution1">
  <h4 class="accordion-header" id="headingSolution1"> Show me the solution </h4>
</button>
<div id="collapseSolution1" class="accordion-collapse collapse" data-bs-parent="#accordionSolution1" aria-labelledby="headingSolution1">
<div class="accordion-body">
<p>The first element is going to be excluded twice. This means that the
vector will lose two elements. In principle, it is a good idea to write
code that you can run multiple times without causing unwanted issues. To
achieve this, either use a different way to exclude the first element
that we will talk about later, or simply assign the cleaned vector a new
name:</p>
<div class="codewrapper sourceCode" id="cb42">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">cleaned_vector</span> <span class="op">&lt;-</span> <span class="va">vector</span><span class="op">[</span><span class="op">-</span><span class="fl">1</span><span class="op">]</span></span></code></pre>
</div>
<p>Now, no matter how often you run this piece of code,
<code>cleaned_vector</code> will always be <code>vector</code> without
the first entry.</p>
</div>
</div>
</div>
</div>
</section><section><h2 class="section-heading" id="filtering-vectors">Filtering vectors<a class="anchor" aria-label="anchor" href="#filtering-vectors"></a>
</h2>
<hr class="half-width">
<p>In most cases, you don’t know what the element of the vector is you
want to exclude. You might know that some values are impossible or not
of interest, but don’t know where they are. For example, the accuracy
vector of a response time task might look like this:</p>
<div class="codewrapper sourceCode" id="cb43">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">accuracy_coded</span> <span class="op">&lt;-</span> <span class="fu">c</span><span class="op">(</span><span class="fl">0</span>, <span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">1</span>, <span class="op">-</span><span class="fl">2</span>, <span class="fl">99</span>, <span class="fl">1</span>, <span class="fl">11</span>, <span class="fl">0</span><span class="op">)</span></span>
<span><span class="va">accuracy_coded</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code> [1]  0  1  1  1  1 -2 99  1 11  0</code></pre>
</div>
<p><code>-2</code> and <code>99</code> are often used to indicate
invalid button-presses or missing responses. <code>11</code> in this
case is a wrong entry that should be corrected to <code>1</code>.</p>
<p>If we were to compute the average accuracy now using
<code>mean()</code> we would receive a wrong response.</p>
<div class="codewrapper sourceCode" id="cb45">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">mean</span><span class="op">(</span><span class="va">accuracy_coded</span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>[1] 11.3</code></pre>
</div>
<p>Therefore, we need to exclude all invalid values before continuing
our analysis. Before I show you how I would go about doing this, think
about it yourself. You do not need to know the code, yet. Just think
about some rules and steps that need to be taken.</p>
<div id="important-the-silent-ones-are-the-worst" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="important-the-silent-ones-are-the-worst" class="callout-inner">
<h3 class="callout-title">Important: The silent ones are the worst</h3>
<div class="callout-content">
<p>The above example illustrates something very important. R will not
throw an error every time you do something that doesn’t make sense. You
should be really careful of “silent” errors. The <code>mean()</code>
function above works exactly as intended, but returns a completely
nonsensical value. You should always conduct <em>sanity checks</em>. Can
mean accuracy be higher than 1? How many entries am I expecting in my
data?</p>
</div>
</div>
</div>
<p>Now, back to the solution to the wacky accuracy data. Note that R
gives us the opportunity to do things in a million different ways. If
you came up with something different from what was presented here,
great! Make sure it works and if so, use it!</p>
<p>First, we need to recode the wrong entry. That <code>11</code> was
supposed to be a <code>1</code>, but someone entered the wrong data in
the excel. To do this, we can find the index, the element number, where
accuracy is 11. Then, we can replace that entry with 1.</p>
<div class="codewrapper sourceCode" id="cb47">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">index_where_accuracy_11</span> <span class="op">&lt;-</span> <span class="fu">which</span><span class="op">(</span><span class="va">accuracy_coded</span> <span class="op">==</span> <span class="fl">11</span><span class="op">)</span></span>
<span></span>
<span><span class="va">accuracy_coded</span><span class="op">[</span><span class="va">index_where_accuracy_11</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fl">1</span></span>
<span><span class="co"># or in one line:</span></span>
<span><span class="co"># accuracy_coded[which(accuracy_coded == 11)] &lt;- 1</span></span>
<span></span>
<span><span class="va">accuracy_coded</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code> [1]  0  1  1  1  1 -2 99  1  1  0</code></pre>
</div>
<p>Now, we can simply exclude all values that are not equal to 1 or 0.
We do this using the <code>-</code> operators:</p>
<div class="codewrapper sourceCode" id="cb49">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">accuracy_coded</span><span class="op">[</span><span class="op">-</span><span class="fu">which</span><span class="op">(</span><span class="va">accuracy_coded</span> <span class="op">!=</span> <span class="fl">0</span> <span class="op">&amp;</span> <span class="va">accuracy_coded</span> <span class="op">!=</span> <span class="fl">1</span><span class="op">)</span><span class="op">]</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>[1] 0 1 1 1 1 1 1 0</code></pre>
</div>
<p>However, note that this reduces the number of entries we have in our
vector. This may not always be advisable. Therefore, it is often better
to replace invalid values with <code>NA</code>. The value
<code>NA</code> (not available) indicates that something is not a
number, but just missing.</p>
<div class="codewrapper sourceCode" id="cb51">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Note that now we are not using the - operator</span></span>
<span><span class="co"># We want to replace values that are not 0 or 1</span></span>
<span><span class="va">accuracy_coded</span><span class="op">[</span><span class="fu">which</span><span class="op">(</span><span class="va">accuracy_coded</span> <span class="op">!=</span> <span class="fl">0</span> <span class="op">&amp;</span> <span class="va">accuracy_coded</span> <span class="op">!=</span> <span class="fl">1</span><span class="op">)</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="cn">NA</span></span></code></pre>
</div>
<p>Now, we can finally compute the average accuracy in our fictional
experiment.</p>
<div class="codewrapper sourceCode" id="cb52">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">mean</span><span class="op">(</span><span class="va">accuracy_coded</span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>[1] NA</code></pre>
</div>
</section><section><h2 class="section-heading" id="challenges">Challenges<a class="anchor" aria-label="anchor" href="#challenges"></a>
</h2>
<hr class="half-width">
<div id="challenge-1" class="callout discussion">
<div class="callout-square">
<i class="callout-icon" data-feather="message-circle"></i>
</div>
<div id="challenge-1" class="callout-inner">
<h3 class="callout-title">Challenge 1:</h3>
<div class="callout-content">
<p>We did not get a number in the above code. Figure out why and how to
fix this. You are encourage to seek help on the internet.</p>
</div>
</div>
</div>
<div id="challenge-2" class="callout discussion">
<div class="callout-square">
<i class="callout-icon" data-feather="message-circle"></i>
</div>
<div id="challenge-2" class="callout-inner">
<h3 class="callout-title">Challenge 2:</h3>
<div class="callout-content">
<p>Below is a vector of response times. Compute the mean response time,
the standard deviation, and get the number of entries in this
vector.</p>
<div class="codewrapper sourceCode" id="cb54">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">response_times_ms</span> <span class="op">&lt;-</span> <span class="fu">c</span><span class="op">(</span></span>
<span>  <span class="fl">230.7298</span>, <span class="fl">620.6292</span>, <span class="fl">188.8168</span>, <span class="fl">926.2940</span>, <span class="fl">887.4730</span>,</span>
<span>  <span class="fl">868.6299</span>, <span class="fl">834.5548</span>, <span class="fl">875.2154</span>, <span class="fl">239.7057</span>, <span class="fl">667.3095</span>,</span>
<span>  <span class="op">-</span><span class="fl">142.891</span>, <span class="fl">10000</span>, <span class="fl">876.9879</span></span>
<span>  <span class="op">)</span></span></code></pre>
</div>
</div>
</div>
</div>
<div id="challenge-3" class="callout discussion">
<div class="callout-square">
<i class="callout-icon" data-feather="message-circle"></i>
</div>
<div id="challenge-3" class="callout-inner">
<h3 class="callout-title">Challenge 3:</h3>
<div class="callout-content">
<p>There might be some wrong values in the response times vector from
above. Use <code>hist()</code> to inspect the distribution of response
times. Figure out which values are implausible and exclude them.
Recompute the mean response time, standard deviation, and the number of
entries.</p>
</div>
</div>
</div>
<div id="challenge-4" class="callout discussion">
<div class="callout-square">
<i class="callout-icon" data-feather="message-circle"></i>
</div>
<div id="challenge-4" class="callout-inner">
<h3 class="callout-title">Challenge 4:</h3>
<div class="callout-content">
<p>Get the average weight (column <em>wt</em>) of cars in the
<code>mtcars</code> data . Can you spot any outliers in the
histogram?</p>
<p>Exclude the “outlier” and rerun the analyses.</p>
</div>
</div>
</div>
<div id="challenge-5" class="callout discussion">
<div class="callout-square">
<i class="callout-icon" data-feather="message-circle"></i>
</div>
<div id="challenge-5" class="callout-inner">
<h3 class="callout-title">Challenge 5:</h3>
<div class="callout-content">
<p>Get the mean values of responses to this fictional questionnaire:</p>
<div class="codewrapper sourceCode" id="cb55">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">item_15_responses</span> <span class="op">&lt;-</span> <span class="fu">c</span><span class="op">(</span><span class="st">"1"</span>, <span class="st">"3"</span>, <span class="st">"2"</span>, <span class="st">"1"</span>, <span class="st">"2"</span>, <span class="st">"none"</span>, <span class="st">"4"</span>, <span class="st">"1"</span>, <span class="st">"3"</span>, <span class="st">"2"</span>, <span class="st">"1"</span>, <span class="st">"1"</span>, <span class="st">"none"</span><span class="op">)</span></span></code></pre>
</div>
</div>
</div>
</div>
<div id="challenge-6-difficult" class="callout discussion">
<div class="callout-square">
<i class="callout-icon" data-feather="message-circle"></i>
</div>
<div id="challenge-6-difficult" class="callout-inner">
<h3 class="callout-title">Challenge 6 (difficult):</h3>
<div class="callout-content">
<p>Compute the average of responses that are valid as indicated by the
vector <code>is_response_valid</code>:</p>
<div class="codewrapper sourceCode" id="cb56">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">response_values</span> <span class="op">&lt;-</span> <span class="fu">c</span><span class="op">(</span><span class="fl">91</span>, <span class="fl">82</span>, <span class="fl">69</span>, <span class="fl">74</span>, <span class="fl">62</span>, <span class="fl">19</span>, <span class="fl">84</span>, <span class="fl">61</span>, <span class="fl">92</span>, <span class="fl">53</span><span class="op">)</span></span>
<span><span class="va">is_response_valid</span> <span class="op">&lt;-</span> <span class="fu">c</span><span class="op">(</span><span class="st">"yes"</span>, <span class="st">"yes"</span>, <span class="st">"yes"</span>, <span class="st">"yes"</span>, <span class="st">"yes"</span>,</span>
<span>                       <span class="st">"no"</span>, <span class="st">"yes"</span>, <span class="st">"yes"</span>, <span class="st">"yes"</span>, <span class="st">"no"</span><span class="op">)</span></span></code></pre>
</div>
</div>
</div>
</div>
<div id="keypoints1" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Key Points</h3>
<div class="callout-content">
<ul>
<li>Scripts facilitate reproducible research</li>
<li>create vectors using <code>c()</code>
</li>
<li>Numeric variables are used for computations, character variables
often contain additional information</li>
<li>You can index vectors by using <code>vector[index]</code> to return
or exclude specific indices</li>
<li>Use <code>which()</code> to filter vectors based on specific
conditions</li>
</ul>
</div>
</div>
</div>
<!--
Place links that you need to refer to multiple times across pages here. Delete
any links that you are not going to use.
 -->
</section></section><section id="aio-projects"><p>Content from <a href="projects.html">Projects</a></p>
<hr>
<p>Last updated on 2025-03-15 |

        <a href="https://github.com/SLesche/r-for-empra/edit/main/episodes/projects.Rmd" class="external-link">Edit this page <i aria-hidden="true" data-feather="edit"></i></a></p>
<div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right" data-expand="Expand All Solutions " data-collapse="Collapse All Solutions "> Expand All Solutions <i aria-hidden="true" data-feather="plus"></i></button>
        </div>
<div class="overview card">
<h2 class="card-header">Overview</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Questions</h3>
<ul>
<li>What is an R project?</li>
<li>How do projects help me organize my scripts.</li>
</ul>
</div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Objectives</h3>
<ul>
<li>Explain how projects can provide structure</li>
<li>Explain what a “working directory” is and how to access files</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<section><h2 class="section-heading" id="working-directory">Working Directory<a class="anchor" aria-label="anchor" href="#working-directory"></a>
</h2>
<hr class="half-width">
<p>Last week we worked with scripts and some basic computations using
vectors. Most likely, you wrote down a lot of code and saved the script
somewhere on your computer. Once you start working with multiple scripts
and datasets, it becomes very important that you keep your files
somewhat orderly.</p>
<p>This is important both for us humans to understand, but also for
computers. Any time you need to access something outside your present R
script, you will need to tell R where to find this. The data will be
saved somewhere on the computer and needs to find its way into the R
session.</p>
<p>Understanding where a file is saved on your computer is key to
understanding how to tell R to read it into your current session. There
are two main ways to tell R how to find a file: <em>absolute</em> paths
and <em>relative</em> paths.</p>
<div class="section level3">
<h3 id="absolute-paths">Absolute Paths<a class="anchor" aria-label="anchor" href="#absolute-paths"></a>
</h3>
<p>An <strong>absolute path</strong> is the full location of a file on
your computer, starting from the root of your file system. It tells R
exactly where to find the file, no matter where your R script is
located. Think of it like an address in a town. <em>1404 Mansfield St,
Chippewa Falls, WI 54729</em> tells you exactly where a house is
located.</p>
<p>For example, the absolute path to a file stored in the
<code>Documents/</code> folder most likely looks something like
this:</p>
<ul>
<li>
<strong>Windows:</strong>
<code>"C:/Users/YourName/Documents/my_data.csv"</code><br>
</li>
<li>
<strong>Mac/Linux:</strong>
<code>"/Users/YourName/Documents/my_data.csv"</code>
</li>
</ul>
<div id="how-to-find-the-absolute-path-of-a-file" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="how-to-find-the-absolute-path-of-a-file" class="callout-inner">
<h3 class="callout-title">How to Find the Absolute Path of a File:</h3>
<div class="callout-content">
<ul>
<li><p>On <strong>Windows</strong>, open File Explorer, navigate to your
file, right-click it, and select <strong>Properties</strong>. The full
file path will be shown in the “Location” field.</p></li>
<li><p>On <strong>Mac</strong>, open Finder, right-click the file,
select <strong>Get Info</strong>, and look at “Where.”<br></p></li>
</ul>
</div>
</div>
</div>
</div>
<div class="section level3">
<h3 id="relative-paths">Relative Paths<a class="anchor" aria-label="anchor" href="#relative-paths"></a>
</h3>
<p>A <strong>relative path</strong> specifies the location of a file in
relation to the <strong>working directory</strong> of your R session.
This is useful when working with projects that contain multiple files,
as it keeps your code flexible and portable. Think of this like the
direction, “just follow the road until the roundabout and then take the
second exit”. If the starting point is well defined, this is enough
information to find the target.</p>
<p>The <strong>working directory</strong> is the default folder on your
computer where R looks for files and saves new ones. Think of it as R’s
<strong>“home base”</strong>—if you ask R to read or save a file without
giving a full path, it will assume you’re talking about this
location.</p>
<p>You can check your current working directory by running:</p>
<div class="codewrapper sourceCode" id="cb1">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">getwd</span><span class="op">(</span><span class="op">)</span>  <span class="co"># This tells you where R is currently looking for files</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>[1] "/home/runner/work/r-for-empra/r-for-empra/site/built"</code></pre>
</div>
<p>In our case, this means if you try to read a file like this:</p>
<div class="codewrapper sourceCode" id="cb3">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">read.csv</span><span class="op">(</span><span class="st">"data.csv"</span><span class="op">)</span></span></code></pre>
</div>
<p>R will look for <code>data.csv</code> inside
/home/runner/work/r-for-empra/r-for-empra/site/built.</p>
<p>If your files are stored somewhere else, you can change the working
directory using:</p>
<div class="codewrapper sourceCode" id="cb4">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">setwd</span><span class="op">(</span><span class="st">"C:/Users/YourName/Desktop/MyNewFolder"</span><span class="op">)</span>  <span class="co"># Set a new working directory</span></span></code></pre>
</div>
<p>Now, R will assume all file paths start from
<code>"C:/Users/YourName/Desktop/MyNewFolder"</code>.</p>
</div>
<div class="section level3">
<h3 id="why-is-the-working-directory-important">Why is the Working Directory Important?<a class="anchor" aria-label="anchor" href="#why-is-the-working-directory-important"></a>
</h3>
<ul>
<li>It <strong>saves you from typing long file paths</strong> every time
you load data.<br>
</li>
<li>It <strong>keeps projects organized</strong> by ensuring all files
are in a central location.<br>
</li>
<li>It <strong>makes your code portable</strong>, so if you share your
project, others won’t need to change file paths manually.</li>
</ul>
</div>
</section><section><h2 class="section-heading" id="r-projects">R Projects<a class="anchor" aria-label="anchor" href="#r-projects"></a>
</h2>
<hr class="half-width">
<p>There are two main ways to define the working directory that R will
use. You can do this using <code>setwd()</code> and specify a particular
directory you want to start from. Another way to accomplish this is
through the use of <strong>R projects</strong>. These projects
automatically set your working directory to the place that the project
is located.</p>
<p>If you prefer declaring your working directory using
<code>setwd()</code>, you can place this bit of code
<code>setwd(dirname(rstudioapi::getActiveDocumentContext()$path))</code>
at the beginning of your script. R will then set the working directory
to the folder that the script you are working with is located in.</p>
<p>However, I do not recommend this approach for reasons outlined below.
Instead, I would suggest using R projects. When working in
<strong>RStudio</strong>, using <strong>R Projects</strong> is one of
the best ways to keep your work organized, portable, and efficient. An
<strong>R Project</strong> is essentially a self-contained workspace
that helps manage files, working directories, and settings
automatically.</p>
<p>There are several reasons why I prefer R projects:</p>
<div class="section level4">
<h4 id="automatic-working-directory-management">1️⃣ <strong>Automatic Working Directory Management</strong>
<a class="anchor" aria-label="anchor" href="#automatic-working-directory-management"></a>
</h4>
<p>When you open an R Project, RStudio <strong>automatically</strong>
sets the working directory to the project’s folder. This means you don’t
have to use <code>setwd()</code> manually or worry about absolute file
paths.</p>
<p>Example:<br>
- If your project folder is
<code>C:/Users/YourName/Documents/MyProject</code>, then any file in
this folder can be accessed with a <strong>relative path</strong>:</p>
<div class="codewrapper sourceCode" id="cb5">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">read.csv</span><span class="op">(</span><span class="st">"data/my_data.csv"</span><span class="op">)</span>  <span class="co"># No need for long paths!</span></span></code></pre>
</div>
</div>
<div class="section level4">
<h4 id="keeps-everything-organized">2️⃣ <strong>Keeps Everything Organized</strong>
<a class="anchor" aria-label="anchor" href="#keeps-everything-organized"></a>
</h4>
<p>An R Project keeps <strong>all related files</strong>—scripts,
datasets, plots, and outputs—in one place. This is especially useful
when working on multiple projects, preventing files from getting mixed
up.</p>
<p>A typical project folder might look like this:</p>
<pre><code>MyProject/
│── data/         # Raw data files
│── scripts/      # R scripts
│── output/       # Processed results
│── MyProject.Rproj  # The project file</code></pre>
<p>This structure helps keep your work clean and easy to navigate.</p>
</div>
<div class="section level4">
<h4 id="easier-collaboration-portability">3️⃣ <strong>Easier Collaboration &amp; Portability</strong>
<a class="anchor" aria-label="anchor" href="#easier-collaboration-portability"></a>
</h4>
<p>If you share your project folder, others can open the
<code>.Rproj</code> file in RStudio and immediately start working—no
need to change file paths or set up the environment manually. This makes
R Projects ideal for:<br>
✅ <strong>Teamwork</strong><br>
✅ <strong>Sharing with collaborators</strong><br>
✅ <strong>Reproducible research</strong></p>
</div>
<div class="section level4">
<h4 id="integrated-version-control-git">4️⃣ <strong>Integrated Version Control (Git)</strong>
<a class="anchor" aria-label="anchor" href="#integrated-version-control-git"></a>
</h4>
<p>If you use Git for version control, R Projects make it simple to
track changes, commit updates, and collaborate through platforms like
<strong>GitHub</strong>. You can set up a Git repository directly inside
the project.</p>
</div>
<div class="section level4">
<h4 id="easy-switching-between-projects">5️⃣ <strong>Easy Switching Between Projects</strong>
<a class="anchor" aria-label="anchor" href="#easy-switching-between-projects"></a>
</h4>
<p>With R Projects, you can <strong>quickly switch</strong> between
different tasks without affecting the working directory or opening and
closing scripts. Each project remembers its settings, so you don’t have
to reconfigure things every time.</p>
</div>
</section><section><h2 class="section-heading" id="how-to-create-an-r-project">How to Create an R Project<a class="anchor" aria-label="anchor" href="#how-to-create-an-r-project"></a>
</h2>
<hr class="half-width">
<p>1️⃣ Open <strong>RStudio</strong><br>
2️⃣ Click <strong>File</strong> → <strong>New Project</strong><br>
3️⃣ Choose <strong>New Directory</strong> (or an existing folder)<br>
4️⃣ Select <strong>New Project</strong> and give it a name<br>
5️⃣ Click <strong>Create Project</strong> 🎉</p>
<p>Now, whenever you open the <code>.Rproj</code> file, RStudio will
automatically set everything up for you!</p>
<p>You can open a project using <code>File &gt; Open Project</code> in
the top left of R Studio. You will then notice the projects name
appearing in the top right. Furthermore, the <code>Files</code> view in
the bottom right will automatically go to the destination of your
selected project.</p>
</section><section><h2 class="section-heading" id="creating-an-r-project">Creating an R project<a class="anchor" aria-label="anchor" href="#creating-an-r-project"></a>
</h2>
<hr class="half-width">
<p>Let’s go through the steps of setting up an R project together.
First, decide if you want to use an existing folder or generate a brand
new folder for your R project. I would suggest using a folder that is
clean. For example, use the folder <code>r_for_empra</code> that you
created a couple lessons earlier!</p>
<p>To create a project, follow the steps outlined above. Make sure the
creation of your project was successful and you can see the name of your
project in the top right corner. If you are creating the project in a
new folder, you will have to give it a sensible name!</p>
</section><section><h2 class="section-heading" id="challenges">Challenges<a class="anchor" aria-label="anchor" href="#challenges"></a>
</h2>
<hr class="half-width">
<div id="challenge-1" class="callout discussion">
<div class="callout-square">
<i class="callout-icon" data-feather="message-circle"></i>
</div>
<div id="challenge-1" class="callout-inner">
<h3 class="callout-title">Challenge 1:</h3>
<div class="callout-content">
<p>Make sure you have the project created. In the folder that the
project is created in, add the following sub-folders: <code>data</code>,
<code>processed_data</code> and <code>archive</code>. You can do this
either in the file explorer of your computer, or by using the bottom
right window of RStudio.</p>
<p><code>data</code> will house all the raw data files that we are
working with in this tutorial. <code>processed_data</code> will be used
to save data that we processed in some way and want to reuse later on.
<code>archive</code> is a folder to store old scripts or data-sets that
you will no longer use. You can also delete those files, but I often
find it easier to just “shove them under the bed” so that I
<em>could</em> still use them later on.</p>
<p>Get an overview of the folders in your project by running
<code>list.dirs(recursive = FALSE)</code>. This should return the
folders you just created and a folder where R-project information is
stored.</p>
<p>If you do not see the folders you just created, make sure you created
and opened the project and that the folders are in the same space as
your <code>.Rproj</code> project file.</p>
</div>
</div>
</div>
<div id="challenge-2" class="callout discussion">
<div class="callout-square">
<i class="callout-icon" data-feather="message-circle"></i>
</div>
<div id="challenge-2" class="callout-inner">
<h3 class="callout-title">Challenge 2:</h3>
<div class="callout-content">
<p>Download the following <a href="data/roy_kent_f_count.csv">data</a>
and place it in the <code>data</code> folder. Make sure to give it an
appropriate name. The data contains information about the number of
times the character <em>Roy Kent</em> used the f-word in the show
<em>Ted Lasso</em>.</p>
</div>
</div>
</div>
<div id="challenge-3" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="challenge-3" class="callout-inner">
<h3 class="callout-title">Challenge 3:</h3>
<div class="callout-content">
<p>Test the data you just downloaded. Read it into R and give it an
appropriate name.</p>
<p>Hint: You may need to research how to read <code>.csv</code> files
into R first.</p>
</div>
</div>
</div>
<div id="accordionSolution1" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution1" aria-expanded="false" aria-controls="collapseSolution1">
  <h4 class="accordion-header" id="headingSolution1"> Show me the solution </h4>
</button>
<div id="collapseSolution1" class="accordion-collapse collapse" data-bs-parent="#accordionSolution1" aria-labelledby="headingSolution1">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb7">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">roy_kent_data</span> <span class="op">&lt;-</span> <span class="fu">read.csv</span><span class="op">(</span><span class="st">"data/roy_kent_f_count.csv"</span><span class="op">)</span></span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div id="challenge-4" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="challenge-4" class="callout-inner">
<h3 class="callout-title">Challenge 4:</h3>
<div class="callout-content">
<p>Familiarize yourself with the data. What columns are there (use
<code>colnames(data)</code>). Compute the average amount of times Roy
Kent says “Fuck” in an episode. Compute the total amount of times he
said it throughout the series.</p>
</div>
</div>
</div>
<div id="accordionSolution2" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution2" aria-expanded="false" aria-controls="collapseSolution2">
  <h4 class="accordion-header" id="headingSolution2"> Show me the solution </h4>
</button>
<div id="collapseSolution2" class="accordion-collapse collapse" data-bs-parent="#accordionSolution2" aria-labelledby="headingSolution2">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb8">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">average_f_count</span> <span class="op">&lt;-</span> <span class="fu">mean</span><span class="op">(</span><span class="va">roy_kent_data</span><span class="op">$</span><span class="va">F_count_RK</span><span class="op">)</span></span>
<span><span class="va">total_f_count</span> <span class="op">&lt;-</span> <span class="fu">sum</span><span class="op">(</span><span class="va">roy_kent_data</span><span class="op">$</span><span class="va">F_count_RK</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Because, cum_rk_overall is a running (cumulative) total:</span></span>
<span><span class="va">total_f_count</span> <span class="op">&lt;-</span> <span class="fu">max</span><span class="op">(</span><span class="va">roy_kent_data</span><span class="op">$</span><span class="va">cum_rk_overall</span><span class="op">)</span></span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div id="keypoints1" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Key Points</h3>
<div class="callout-content">
<ul>
<li>The <strong>working directory</strong> is where R looks for and
saves files.<br>
</li>
<li>Absolute paths give full file locations; relative paths use the
working directory.<br>
</li>
<li>
<strong>R Projects</strong> manage the working directory
automatically, keeping work organized.<br>
</li>
<li>Using R Projects makes code <strong>portable, reproducible, and
easier to share</strong>.<br>
</li>
<li>A structured project with separate folders for data and scripts
improves workflow.</li>
</ul>
</div>
</div>
</div>
<!--
Place links that you need to refer to multiple times across pages here. Delete
any links that you are not going to use.
 -->
</section></section><section id="aio-data-visualization-01"><p>Content from <a href="data-visualization-01.html">Data Visualization (1)</a></p>
<hr>
<p>Last updated on 2025-03-16 |

        <a href="https://github.com/SLesche/r-for-empra/edit/main/episodes/data-visualization-01.Rmd" class="external-link">Edit this page <i aria-hidden="true" data-feather="edit"></i></a></p>
<div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right" data-expand="Expand All Solutions " data-collapse="Collapse All Solutions "> Expand All Solutions <i aria-hidden="true" data-feather="plus"></i></button>
        </div>
<div class="overview card">
<h2 class="card-header">Overview</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Questions</h3>
<ul>
<li>How can you get an overview of data?</li>
<li>How do you visualize distributions of data?</li>
</ul>
</div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Objectives</h3>
<ul>
<li>Learn how to read in <code>.csv</code> files</li>
<li>Learn how to explore a dataset for the first time</li>
<li>Learn how to visualize key statistics of data</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<section><h2 class="section-heading" id="reading-in-data">Reading in data<a class="anchor" aria-label="anchor" href="#reading-in-data"></a>
</h2>
<hr class="half-width">
<p>You already had to read in data in the last lesson. Data comes in
many shapes and sizes. The format of data you had to read in the last
session is called <code>csv</code>, for <em>comma-separated values</em>.
This is one of the most common data formats. It gets its name because
all values are separated from each other using a comma “,”. Here in
Germany, <code>csv</code> files are sometimes separated by a semicolon
“;” instead. This can be adjusted in R-code by using
<code>read.csv("path/to/file", sep = ";")</code> and declaring the
semicolon as the separating variable.</p>
<div id="reading-data-requires-specific-functions" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="reading-data-requires-specific-functions" class="callout-inner">
<h3 class="callout-title">Reading data requires specific functions</h3>
<div class="callout-content">
<p>There are several other common formats including <code>.xlsx</code>
for excel files, <code>.sav</code> for SPSS files, <code>.txt</code> for
simple text files and <code>.rdata</code> for a special R-specific data
format. These files can not be read in by <code>read.csv()</code>, as
this is only for <code>.csv</code> files. Instead, use specific
functions for each format like <code>readxl::read_excel()</code>, or
<code>haven::read_sav()</code>.</p>
</div>
</div>
</div>
<p>Let’s again read in the data about Roy Kent’s potty-mouth.</p>
<div class="codewrapper sourceCode" id="cb1">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">roy_kent_data</span> <span class="op">&lt;-</span> <span class="fu">read.csv</span><span class="op">(</span><span class="st">"data/roy_kent_f_count.csv"</span><span class="op">)</span></span></code></pre>
</div>
</section><section><h2 class="section-heading" id="getting-a-glimpse-of-the-data">Getting a glimpse of the data<a class="anchor" aria-label="anchor" href="#getting-a-glimpse-of-the-data"></a>
</h2>
<hr class="half-width">
<p>When starting out with some data you received, it is important to
familiarize yourself with the basics of this data first. What columns
does it have, what information is contained in each row? What do the
columns mean?</p>
<p>One option to get a quick overview of the data is… just looking at
it! By clicking on the data in the <em>Environment</em> tab or typing
<code>View(roy_kent_data)</code> in the console, you can inspect the
data in R Studio. This will already show you how many observations (in
this case rows) and variables (columns) the data has. We can also
inspect the column names and see the first few entries. Look at the
data, what might each column represent?</p>
<p>Now, let’s go back to using programming to inspect data. We already
learned about the handy function <code>glimpse()</code>, for which we
need the <code>dplyr</code> package.</p>
<div class="codewrapper sourceCode" id="cb2">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw">library</span><span class="op">(</span><span class="va">dplyr</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">glimpse</span><span class="op">(</span><span class="va">roy_kent_data</span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>Rows: 34
Columns: 16
$ Character         &lt;chr&gt; "Roy Kent", "Roy Kent", "Roy Kent", "Roy Kent", "Roy…
$ Episode_order     &lt;int&gt; 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 1…
$ Season            &lt;int&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 2, 2, 2, 2, 2…
$ Episode           &lt;int&gt; 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 1, 2, 3, 4, 5, 6, 7, …
$ Season_Episode    &lt;chr&gt; "S1_e1", "S1_e2", "S1_e3", "S1_e4", "S1_e5", "S1_e6"…
$ F_count_RK        &lt;int&gt; 2, 2, 7, 8, 4, 2, 5, 7, 14, 5, 11, 10, 2, 2, 23, 12,…
$ F_count_total     &lt;int&gt; 13, 8, 13, 17, 13, 9, 15, 18, 22, 22, 16, 22, 8, 6, …
$ cum_rk_season     &lt;int&gt; 2, 4, 11, 19, 23, 25, 30, 37, 51, 56, 11, 21, 23, 25…
$ cum_total_season  &lt;int&gt; 13, 21, 34, 51, 64, 73, 88, 106, 128, 150, 16, 38, 4…
$ cum_rk_overall    &lt;int&gt; 2, 4, 11, 19, 23, 25, 30, 37, 51, 56, 67, 77, 79, 81…
$ cum_total_overall &lt;int&gt; 13, 21, 34, 51, 64, 73, 88, 106, 128, 150, 166, 188,…
$ F_score           &lt;dbl&gt; 0.1538462, 0.2500000, 0.5384615, 0.4705882, 0.307692…
$ F_perc            &lt;dbl&gt; 15.4, 25.0, 53.8, 47.1, 30.8, 22.2, 33.3, 38.9, 63.6…
$ Dating_flag       &lt;chr&gt; "No", "No", "No", "No", "No", "No", "No", "Yes", "Ye…
$ Coaching_flag     &lt;chr&gt; "No", "No", "No", "No", "No", "No", "No", "No", "No"…
$ Imdb_rating       &lt;dbl&gt; 7.8, 8.1, 8.5, 8.2, 8.9, 8.5, 9.0, 8.7, 8.6, 9.1, 7.…</code></pre>
</div>
<p>This will tell us the variable type of each column, too. We can see
that the first column is a character column which just contains the name
of the hero of this data <em>Roy Kent</em>. The second column is an
integer (so whole numbers) vector with information about the episode
number.</p>
<p>Next, let’s try to figure out what each of the column names mean and
what type of information is stored here. Some columns are
self-explanatory like <code>Season</code> or <code>Episode</code>.
Others might require a bit of background knowledge like
<code>Imdb_rating</code>, which requires you to know about the
film-rating platform “Imdb”.</p>
<p>Some columns are riddled with abbreviations that make their names
easier to write, but harder to understand. <code>F_count_RK</code> is
using RK as an abbreviation of Roy Kent and F as an abbreviation for…
something else. <code>cum_rk_overall</code> is a cumulative (running)
total of the number of times Roy used the F-word.</p>
<p>Yet other columns are really difficult to understand, because the
implication is not 100% clear. What does <code>F_count_total</code>
mean? The number of times “Fuck” was said in an episode? Seems like a
reasonable guess, but in order to be sure, it’s best if we had some
documentation of the data’s author’s intentions. This is often called a
<em>codebook</em>, where the person compiling data writes down
information about the meaning of column names, cleaning procedures and
other oddities of the data. When sharing your own data online, this is
essential in order to make your data useable for others.</p>
<p>There is no codebook included in this workshop, but you can find it
online. The data is taken from an event called “Tidy-Tuesday”, a weekly
event about cleaning and presenting interesting data using R. You can
find information about the Roy Kent data <a href="https://github.com/rfordatascience/tidytuesday/blob/main/data/2023/2023-09-26/readme.md" class="external-link">here</a>.
Give it a read in order to make sure you know what all the columns are
about.</p>
</section><section><h2 class="section-heading" id="inspecting-important-values">Inspecting important values<a class="anchor" aria-label="anchor" href="#inspecting-important-values"></a>
</h2>
<hr class="half-width">
<p>Now that we understand the structure of the data and the names of the
columns, we can start getting a look at the data itself. A good way to
get an overview of data with loads of numeric variables is
<code>psych::describe()</code>. This outputs you some basic descriptive
statistics of the data.</p>
<div class="codewrapper sourceCode" id="cb4">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">psych</span><span class="fu">::</span><span class="fu">describe</span><span class="op">(</span><span class="va">roy_kent_data</span><span class="op">)</span> <span class="co"># describe() function from psych package</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>                  vars  n   mean     sd median trimmed    mad   min    max
Character*           1 34   1.00   0.00   1.00    1.00   0.00  1.00   1.00
Episode_order        2 34  17.50   9.96  17.50   17.50  12.60  1.00  34.00
Season               3 34   2.06   0.81   2.00    2.07   1.48  1.00   3.00
Episode              4 34   6.21   3.37   6.00    6.18   4.45  1.00  12.00
Season_Episode*      5 34  17.50   9.96  17.50   17.50  12.60  1.00  34.00
F_count_RK           6 34   8.82   5.63   7.50    8.25   5.19  2.00  23.00
F_count_total        7 34  21.82  11.53  18.00   20.86   8.15  6.00  46.00
cum_rk_season        8 34  53.79  37.29  50.00   51.36  40.77  2.00 138.00
cum_total_season     9 34 126.32  93.71 110.50  115.79  88.96 13.00 377.00
cum_rk_overall      10 34 130.74  92.69 124.50  127.25 118.61  2.00 300.00
cum_total_overall   11 34 308.09 215.14 275.50  296.61 246.11 13.00 742.00
F_score             12 34   0.40   0.15   0.36    0.38   0.15  0.15   0.72
F_perc              13 34  39.57  15.02  35.70   38.49  15.20 15.40  71.90
Dating_flag*        14 34   1.44   0.50   1.00    1.43   0.00  1.00   2.00
Coaching_flag*      15 34   1.59   0.50   2.00    1.61   0.00  1.00   2.00
Imdb_rating         16 34   8.33   0.66   8.50    8.39   0.59  6.60   9.40
                   range  skew kurtosis    se
Character*          0.00   NaN      NaN  0.00
Episode_order      33.00  0.00    -1.31  1.71
Season              2.00 -0.10    -1.53  0.14
Episode            11.00  0.06    -1.26  0.58
Season_Episode*    33.00  0.00    -1.31  1.71
F_count_RK         21.00  0.79     0.05  0.97
F_count_total      40.00  0.78    -0.58  1.98
cum_rk_season     136.00  0.48    -0.82  6.39
cum_total_season  364.00  0.93     0.16 16.07
cum_rk_overall    298.00  0.28    -1.27 15.90
cum_total_overall 729.00  0.42    -1.06 36.90
F_score             0.56  0.60    -0.74  0.03
F_perc             56.50  0.60    -0.74  2.58
Dating_flag*        1.00  0.23    -2.01  0.09
Coaching_flag*      1.00 -0.34    -1.94  0.09
Imdb_rating         2.80 -0.81     0.31  0.11</code></pre>
</div>
<p>In my opinion, the most important information in this table are the
mean value of a column and the maximum and minimum value. The mean value
reveals some important information about the average value of a given
variable, duh… And the minimum and maximum value can reveal issues in
the data. Is the minimum age -2? Or the maximum IQ 1076? Something might
be wrong in this data, and looking at the minimum and maximum values
might already give you a clue. In this data, none of the maxima or
minima seem to be a problem, as they are all in reasonable ranges.</p>
<p>Let’s start visualizing some basic information. I have already
proclaimed my love for histograms as a quick and dirty tool to get an
overview and the simplicity of its code is a reason why!</p>
<div class="codewrapper sourceCode" id="cb6">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">hist</span><span class="op">(</span><span class="va">roy_kent_data</span><span class="op">$</span><span class="va">F_count_RK</span><span class="op">)</span> <span class="co"># Recall that the $ operator gets you a variable from a dataframe</span></span></code></pre>
</div>
<figure><img src="fig/data-visualization-01-rendered-unnamed-chunk-4-1.png" style="display: block; margin: auto;" class="figure mx-auto d-block"></figure><p>Only 5 bars seem to be to few to visualize the distribution
adequately, so lets try 10 instead.</p>
<div class="codewrapper sourceCode" id="cb7">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">hist</span><span class="op">(</span><span class="va">roy_kent_data</span><span class="op">$</span><span class="va">F_count_RK</span>, breaks <span class="op">=</span> <span class="fl">10</span><span class="op">)</span></span></code></pre>
</div>
<p><img src="fig/data-visualization-01-rendered-unnamed-chunk-5-1.png" style="display: block; margin: auto;" class="figure">
This already provides us some more useful information. Roy seems to
swear between 0 and 12 times most often and swears a lot in two
episodes.</p>
<p>Let’s try increasing the number of breaks to 20.</p>
<div class="codewrapper sourceCode" id="cb8">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">hist</span><span class="op">(</span><span class="va">roy_kent_data</span><span class="op">$</span><span class="va">F_count_RK</span>, breaks <span class="op">=</span> <span class="fl">20</span><span class="op">)</span></span></code></pre>
</div>
<figure><img src="fig/data-visualization-01-rendered-unnamed-chunk-6-1.png" style="display: block; margin: auto;" class="figure mx-auto d-block"></figure><p>Here, an interesting pattern seems to emerge. Three different
clusters of swear counts show up, one where Roy swears between 0 - 7
times, presumably because he has little screen-time in the episode. One
cluster where Roy swears between 9-17 times, which more closely
resembles his average swearing amount. And finally two episodes where
Roy flies of the handle and swears a whopping
<code>max(roy_kent_data$F_count_RK) =</code> 23 times!</p>
<p>In order to figure out what makes Roy swear so much, let’s plot the
number of times Roy swears by episode!</p>
</section><section><h2 class="section-heading" id="ggplot2">ggplot2<a class="anchor" aria-label="anchor" href="#ggplot2"></a>
</h2>
<hr class="half-width">
<p>For most of our plotting needs (except the beautiful
<code>hist()</code>), we will make use of the package
<code>ggplot2</code> which is part of the larger collection of packages
<code>tidyverse</code> and provides some really useful plotting
functions. Most importantly, ggplot provides a useful <em>grammar</em>
of plotting functions that always follow the same format.</p>
<p>You start out with the function <code>ggplot()</code> and give it our
data, simple enough. Here, we start working with the entire dataframe,
not just vectors. We can simply pass it into <code>ggplot()</code> and
later on declare which variables we want to use.</p>
<div class="codewrapper sourceCode" id="cb9">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">ggplot</span><span class="op">(</span>data <span class="op">=</span> <span class="va">roy_kent_data</span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">ERROR<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="error" tabindex="0"><code>Error in ggplot(data = roy_kent_data): could not find function "ggplot"</code></pre>
</div>
<p>Oops, R tells us that it cannot find this function. Most of the time,
this is because you forgot to load the package beforehand. Let’s try
again:</p>
<div class="codewrapper sourceCode" id="cb11">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw">library</span><span class="op">(</span><span class="va">ggplot2</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">ggplot</span><span class="op">(</span>data <span class="op">=</span> <span class="va">roy_kent_data</span><span class="op">)</span></span></code></pre>
</div>
<figure><img src="fig/data-visualization-01-rendered-unnamed-chunk-8-1.png" style="display: block; margin: auto;" class="figure mx-auto d-block"></figure><p>Now it works, but not really. For now, this code only tells the
function which data we are using, not what to do with it.</p>
<p>In order to actually see a plot, we need to provide information about
the visual properties, the <em>aesthetics</em> that the plot should
have. The <code>mapping</code> argument tells the function how the data
relates to the visual properties of the plot. We define this mapping
using the function <code>aes()</code>. Here, we declare the columns that
we want on the x-axis and y-axis.</p>
<div class="codewrapper sourceCode" id="cb12">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">ggplot</span><span class="op">(</span></span>
<span>  data <span class="op">=</span> <span class="va">roy_kent_data</span>,</span>
<span>  mapping <span class="op">=</span> <span class="fu">aes</span><span class="op">(</span>x <span class="op">=</span> <span class="va">Episode_order</span>, y <span class="op">=</span> <span class="va">F_count_RK</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre>
</div>
<figure><img src="fig/data-visualization-01-rendered-unnamed-chunk-9-1.png" style="display: block; margin: auto;" class="figure mx-auto d-block"></figure><p>While we cannot see anything useful yet, we already notice some
changes. The plot now correctly shows the names of the variables on the
axes. Also, the ranges of numbers printed on the axes matches the
minimum and maximum values.</p>
<p>Now that we provided the data and the mapping of variables to the
plot, we can start building our proper visualization. This is done
<em>on top</em> of the basics declared in <code>ggplot()</code>. This
technique is called <em>layering</em> and it allows you to combine
multiple new changes to a plot easily using a simple <code>+</code>. To
add a plot showing the number of Fucks given by Roy during an episode,
we can use <code>geom_point()</code>.</p>
<div class="codewrapper sourceCode" id="cb13">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">ggplot</span><span class="op">(</span></span>
<span>  data <span class="op">=</span> <span class="va">roy_kent_data</span>,</span>
<span>  mapping <span class="op">=</span> <span class="fu">aes</span><span class="op">(</span>x <span class="op">=</span> <span class="va">Episode_order</span>, y <span class="op">=</span> <span class="va">F_count_RK</span><span class="op">)</span></span>
<span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">geom_point</span><span class="op">(</span><span class="op">)</span></span></code></pre>
</div>
<figure><img src="fig/data-visualization-01-rendered-unnamed-chunk-10-1.png" style="display: block; margin: auto;" class="figure mx-auto d-block"></figure><p><code>geom_point()</code> adds a simple scatter-plot element to the
graph.</p>
<p>We can change the labels to make the graph more polished using
<code>labs()</code>.</p>
<div class="codewrapper sourceCode" id="cb14">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">ggplot</span><span class="op">(</span></span>
<span>  data <span class="op">=</span> <span class="va">roy_kent_data</span>,</span>
<span>  mapping <span class="op">=</span> <span class="fu">aes</span><span class="op">(</span>x <span class="op">=</span> <span class="va">Episode_order</span>, y <span class="op">=</span> <span class="va">F_count_RK</span><span class="op">)</span></span>
<span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">geom_point</span><span class="op">(</span><span class="op">)</span><span class="op">+</span></span>
<span>  <span class="fu">labs</span><span class="op">(</span></span>
<span>    title <span class="op">=</span> <span class="st">"# of F*cks said by Roy Kent"</span>,</span>
<span>    x <span class="op">=</span> <span class="st">"Episode Number"</span>,</span>
<span>    y <span class="op">=</span> <span class="st">"# of F*cks"</span></span>
<span>  <span class="op">)</span></span></code></pre>
</div>
<figure><img src="fig/data-visualization-01-rendered-unnamed-chunk-11-1.png" style="display: block; margin: auto;" class="figure mx-auto d-block"></figure><p>There seems to be a small trend showing that Roy swears more later in
the series. We can visualize this trend by adding another layered visual
<code>geom_smooth()</code>.</p>
<div class="codewrapper sourceCode" id="cb15">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">ggplot</span><span class="op">(</span></span>
<span>  data <span class="op">=</span> <span class="va">roy_kent_data</span>,</span>
<span>  mapping <span class="op">=</span> <span class="fu">aes</span><span class="op">(</span>x <span class="op">=</span> <span class="va">Episode_order</span>, y <span class="op">=</span> <span class="va">F_count_RK</span><span class="op">)</span></span>
<span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">geom_point</span><span class="op">(</span><span class="op">)</span><span class="op">+</span></span>
<span>  <span class="fu">labs</span><span class="op">(</span></span>
<span>    title <span class="op">=</span> <span class="st">"# of F*cks said by Roy Kent"</span>,</span>
<span>    x <span class="op">=</span> <span class="st">"Episode Number"</span>,</span>
<span>    y <span class="op">=</span> <span class="st">"# of F*cks"</span></span>
<span>  <span class="op">)</span><span class="op">+</span></span>
<span>  <span class="fu">geom_smooth</span><span class="op">(</span></span>
<span>    method <span class="op">=</span> <span class="st">"lm"</span>, <span class="co"># this forces the trend-line to be linear</span></span>
<span>    se <span class="op">=</span> <span class="cn">FALSE</span></span>
<span>  <span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>`geom_smooth()` using formula = 'y ~ x'</code></pre>
</div>
<figure><img src="fig/data-visualization-01-rendered-unnamed-chunk-12-1.png" style="display: block; margin: auto;" class="figure mx-auto d-block"></figure><p>What might be causing this trend? Well, one possible candidate is
that Roy goes from being a player on the team to being a coach on the
team. This might cause him to yell at more people than usual. The
variable that contains this information is <code>Coaching_flag</code>.
Let’s learn something about it:</p>
<div class="codewrapper sourceCode" id="cb17">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">table</span><span class="op">(</span><span class="va">roy_kent_data</span><span class="op">$</span><span class="va">Coaching_flag</span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>
 No Yes
 14  20 </code></pre>
</div>
<p>It seems to have two values “Yes” and “No”, each being represented in
the data more than 10 times.</p>
<p>We can also add this to our visualization from earlier, coloring in
the dots by whether Roy was coaching or not. In order to do this, we
need to add the <code>color</code> variable in the aesthetics mapping in
the <code>ggplot()</code> function.</p>
<div class="codewrapper sourceCode" id="cb19">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">ggplot</span><span class="op">(</span></span>
<span>  data <span class="op">=</span> <span class="va">roy_kent_data</span>,</span>
<span>  mapping <span class="op">=</span> <span class="fu">aes</span><span class="op">(</span>x <span class="op">=</span> <span class="va">Episode_order</span>, y <span class="op">=</span> <span class="va">F_count_RK</span>, color <span class="op">=</span> <span class="va">Coaching_flag</span><span class="op">)</span></span>
<span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">geom_point</span><span class="op">(</span><span class="op">)</span><span class="op">+</span></span>
<span>  <span class="fu">labs</span><span class="op">(</span></span>
<span>    title <span class="op">=</span> <span class="st">"# of F*cks said by Roy Kent"</span>,</span>
<span>    x <span class="op">=</span> <span class="st">"Episode Number"</span>,</span>
<span>    y <span class="op">=</span> <span class="st">"# of F*cks"</span></span>
<span>  <span class="op">)</span><span class="op">+</span></span>
<span>  <span class="fu">geom_smooth</span><span class="op">(</span></span>
<span>    method <span class="op">=</span> <span class="st">"lm"</span>, <span class="co"># this forces the trend-line to be linear</span></span>
<span>    se <span class="op">=</span> <span class="cn">FALSE</span></span>
<span>  <span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>`geom_smooth()` using formula = 'y ~ x'</code></pre>
</div>
<figure><img src="fig/data-visualization-01-rendered-unnamed-chunk-14-1.png" style="display: block; margin: auto;" class="figure mx-auto d-block"></figure><p>Now, a clearer picture emerges. Roy starts of pretty slow as a
player, but then begins to swear a lot in the episodes that he is
coaching in.</p>
<div id="making-plots-prettier-using-themes" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="making-plots-prettier-using-themes" class="callout-inner">
<h3 class="callout-title">Making plots prettier using themes</h3>
<div class="callout-content">
<p>The basic plots already look okay and are enough for just finding
something out about data. But you can make them even more enticing by
using a theme. Themes in ggplot are collections of visual settings that
control the background of the plot, the text size of the axis and some
other things.</p>
<p>I often use <code>theme_classic()</code> or
<code>theme_minimal()</code>, but you can try out different themes or
even write your own!</p>
<div class="codewrapper sourceCode" id="cb21">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">ggplot</span><span class="op">(</span></span>
<span>  data <span class="op">=</span> <span class="va">roy_kent_data</span>,</span>
<span>  mapping <span class="op">=</span> <span class="fu">aes</span><span class="op">(</span>x <span class="op">=</span> <span class="va">Episode_order</span>, y <span class="op">=</span> <span class="va">F_count_RK</span>, color <span class="op">=</span> <span class="va">Coaching_flag</span><span class="op">)</span></span>
<span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">geom_point</span><span class="op">(</span><span class="op">)</span><span class="op">+</span></span>
<span>  <span class="fu">labs</span><span class="op">(</span></span>
<span>    title <span class="op">=</span> <span class="st">"# of F*cks said by Roy Kent"</span>,</span>
<span>    x <span class="op">=</span> <span class="st">"Episode Number"</span>,</span>
<span>    y <span class="op">=</span> <span class="st">"# of F*cks"</span></span>
<span>  <span class="op">)</span><span class="op">+</span></span>
<span>  <span class="fu">geom_smooth</span><span class="op">(</span></span>
<span>    method <span class="op">=</span> <span class="st">"lm"</span>, <span class="co"># this forces the trend-line to be linear</span></span>
<span>    se <span class="op">=</span> <span class="cn">FALSE</span></span>
<span>  <span class="op">)</span><span class="op">+</span></span>
<span>  <span class="fu">theme_minimal</span><span class="op">(</span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>`geom_smooth()` using formula = 'y ~ x'</code></pre>
</div>
<figure><img src="fig/data-visualization-01-rendered-unnamed-chunk-15-1.png" style="display: block; margin: auto;" class="figure mx-auto d-block"></figure>
</div>
</div>
</div>
</section><section><h2 class="section-heading" id="challenges">Challenges<a class="anchor" aria-label="anchor" href="#challenges"></a>
</h2>
<hr class="half-width">
<div id="challenge-1" class="callout discussion">
<div class="callout-square">
<i class="callout-icon" data-feather="message-circle"></i>
</div>
<div id="challenge-1" class="callout-inner">
<h3 class="callout-title">Challenge 1</h3>
<div class="callout-content">
<p>Figure out what information is stored in the column
<code>F_count_total</code>. Compute the descriptive information (mean,
standard deviation, minimum and maximum) for this variable.</p>
</div>
</div>
</div>
<div id="challenge-2" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="challenge-2" class="callout-inner">
<h3 class="callout-title">Challenge 2</h3>
<div class="callout-content">
<p>Compare the descriptive information to those for
<code>F_count_RK</code>. Which one is bigger, why?</p>
<p>Compute the difference between the two variables. What does it
represent. Compare the difference to <code>F_count_RK</code>. Which has
the higher average value?</p>
</div>
</div>
</div>
<div id="accordionSolution1" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution1" aria-expanded="false" aria-controls="collapseSolution1">
  <h4 class="accordion-header" id="headingSolution1"> Show me the solution </h4>
</button>
<div id="collapseSolution1" class="accordion-collapse collapse" data-bs-parent="#accordionSolution1" aria-labelledby="headingSolution1">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb23">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">f_count_others</span> <span class="op">&lt;-</span> <span class="va">roy_kent_data</span><span class="op">$</span><span class="va">F_count_total</span> <span class="op">-</span> <span class="va">roy_kent_data</span><span class="op">$</span><span class="va">F_count_RK</span></span>
<span></span>
<span><span class="fu">mean</span><span class="op">(</span><span class="va">f_count_others</span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>[1] 13</code></pre>
</div>
<div class="codewrapper sourceCode" id="cb25">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">mean</span><span class="op">(</span><span class="va">roy_kent_data</span><span class="op">$</span><span class="va">F_count_RK</span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>[1] 8.823529</code></pre>
</div>
</div>
</div>
</div>
</div>
<div id="challenge-3" class="callout discussion">
<div class="callout-square">
<i class="callout-icon" data-feather="message-circle"></i>
</div>
<div id="challenge-3" class="callout-inner">
<h3 class="callout-title">Challenge 3</h3>
<div class="callout-content">
<p>Plot a histogram of <code>F_count_total</code>. Try different values
of <code>breaks</code>, which seems most interesting to you?</p>
</div>
</div>
</div>
<div id="challenge-4" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="challenge-4" class="callout-inner">
<h3 class="callout-title">Challenge 4</h3>
<div class="callout-content">
<p>Visualize the relationship between the amount of time Roy Kent said
“Fuck” and the Imdb rating of that episode using
<code>geom_point()</code>.</p>
</div>
</div>
</div>
<div id="accordionSolution2" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution2" aria-expanded="false" aria-controls="collapseSolution2">
  <h4 class="accordion-header" id="headingSolution2"> Show me the solution </h4>
</button>
<div id="collapseSolution2" class="accordion-collapse collapse" data-bs-parent="#accordionSolution2" aria-labelledby="headingSolution2">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb27">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">ggplot</span><span class="op">(</span></span>
<span>  data <span class="op">=</span> <span class="va">roy_kent_data</span>,</span>
<span>  mapping <span class="op">=</span> <span class="fu">aes</span><span class="op">(</span>x <span class="op">=</span> <span class="va">F_count_RK</span>, y <span class="op">=</span> <span class="va">Imdb_rating</span><span class="op">)</span></span>
<span><span class="op">)</span><span class="op">+</span></span>
<span>  <span class="fu">geom_point</span><span class="op">(</span><span class="op">)</span><span class="op">+</span></span>
<span>  <span class="fu">labs</span><span class="op">(</span></span>
<span>    title <span class="op">=</span> <span class="st">"Relationship between F-count and episode rating"</span>,</span>
<span>    x <span class="op">=</span> <span class="st">"# of F*cks"</span>,</span>
<span>    y <span class="op">=</span> <span class="st">"Imdb Rating"</span></span>
<span>  <span class="op">)</span><span class="op">+</span></span>
<span>  <span class="fu">theme_minimal</span><span class="op">(</span><span class="op">)</span></span></code></pre>
</div>
<figure><img src="fig/data-visualization-01-rendered-unnamed-chunk-17-1.png" style="display: block; margin: auto;" class="figure mx-auto d-block"></figure>
</div>
</div>
</div>
</div>
<div id="challenge-5" class="callout discussion">
<div class="callout-square">
<i class="callout-icon" data-feather="message-circle"></i>
</div>
<div id="challenge-5" class="callout-inner">
<h3 class="callout-title">Challenge 5</h3>
<div class="callout-content">
<p>Be creative! What else can you notice in the data? Try to make an
interesting plot.</p>
</div>
</div>
</div>
<div id="keypoints1" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Key Points</h3>
<div class="callout-content">
<ul>
<li>Get an overview of the data by inspecting it or using
<code>glimpse()</code> / <code>describe()</code>
</li>
<li>Consult a codebook for more in-depth descriptions of the variables
in the data</li>
<li>Visualize the distribution of a variable using
<code>hist()</code>
</li>
<li>Use <code>ggplot(data = data, mapping = aes())</code> to provide the
data and mapping to the plots</li>
<li>Add visualization steps like <code>geom_point()</code> or
<code>geom_smooth()</code> using <code>+</code>
</li>
</ul>
</div>
</div>
</div>
<!--
Place links that you need to refer to multiple times across pages here. Delete
any links that you are not going to use.
 -->
</section></section><section id="aio-data-visualization-02"><p>Content from <a href="data-visualization-02.html">Data Visualization (2)</a></p>
<hr>
<p>Last updated on 2025-03-17 |

        <a href="https://github.com/SLesche/r-for-empra/edit/main/episodes/data-visualization-02.Rmd" class="external-link">Edit this page <i aria-hidden="true" data-feather="edit"></i></a></p>
<div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right" data-expand="Expand All Solutions " data-collapse="Collapse All Solutions "> Expand All Solutions <i aria-hidden="true" data-feather="plus"></i></button>
        </div>
<div class="overview card">
<h2 class="card-header">Overview</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Questions</h3>
<ul>
<li>How can you visualize categorical data?</li>
<li>How to visualize the relationship of categorical and numerical
data?</li>
<li>
</li>
</ul>
</div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Objectives</h3>
<ul>
<li>Get to know the DASS data from Kaggle</li>
<li>Explain how to plot distribution of numerical data using
<code>geom_histogram()</code> and <code>geom_density()</code>
</li>
<li>Demonstrate how to group distributions by categorical variables</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<section><h2 class="section-heading" id="a-new-set-of-data">A new set of data<a class="anchor" aria-label="anchor" href="#a-new-set-of-data"></a>
</h2>
<hr class="half-width">
<p>In this section, we will work with a new set of data. Download this
data <a href="data/kaggle_dass/data.csv">here</a> and place it in your
<code>data</code> folder. There is also a codebook available to download
<a href="data/kaggle_dass/codebook.txt">here</a>.</p>
<p>The data originates from an online version of the <strong>Depression
Anxiety Stress Scales (DASS)</strong>, collected between
<strong>2017-2019</strong> and retrieved from <a href="https://www.kaggle.com/datasets/lucasgreenwell/depression-anxiety-stress-scales-responses/data" class="external-link">Kaggle</a>.
Participants took the test to receive personalized results and could opt
into a research survey. The dataset includes <strong>responses to 42
DASS items</strong> (rated on a 4-point scale), <strong>response
times</strong>, and <strong>question positions</strong>. Additional data
includes:</p>
<ul>
<li>
<strong>Demographics</strong> (age, gender, education, native
language, handedness, religion, sexual orientation, race, marital
status, family size, major, country).<br>
</li>
<li>
<strong>Big Five Personality Traits</strong> (via the Ten Item
Personality Inventory - TIPI).<br>
</li>
<li>
<strong>Vocabulary Check</strong> (includes fake words for validity
checks).</li>
</ul>
<p>Let’s read in the data first. In my case, it is placed inside a
subfolder of <code>data/</code> called <code>kaggle_dass/</code>. You
may need to adjust the path on your end.</p>
<div class="codewrapper sourceCode" id="cb1">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">dass_data</span> <span class="op">&lt;-</span> <span class="fu">read.csv</span><span class="op">(</span><span class="st">"data/kaggle_dass/data.csv"</span><span class="op">)</span></span></code></pre>
</div>
<p>As you might already see, this data is quite large. In the
<em>Environment</em> tab we can see that it contains almost 40.000
entries and 172 variables. For now, we will be working with some of the
demographic statistics. We will delve into the actual score in a later
episode. You can find information on this data in the codebook provided
<a href="data/kaggle_dass/codebook.txt">here</a>.</p>
<p>Read this codebook in order to familiarize yourself with the data.
Then inspect it visually by clicking on the frame or running
<code>View(dass_data)</code>. What do you notice?</p>
<p>First, let’s start getting an overview of the demographics of
test-takers. What is their gender, age and education? Compute
descriptive statistics for age and inspect gender and education using
<code>table()</code></p>
<div class="codewrapper sourceCode" id="cb2">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">table</span><span class="op">(</span><span class="va">dass_data</span><span class="op">$</span><span class="va">gender</span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>
    0     1     2     3
   67  8789 30367   552 </code></pre>
</div>
<div class="codewrapper sourceCode" id="cb4">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">mean</span><span class="op">(</span><span class="va">dass_data</span><span class="op">$</span><span class="va">age</span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>[1] 23.61217</code></pre>
</div>
<div class="codewrapper sourceCode" id="cb6">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">sd</span><span class="op">(</span><span class="va">dass_data</span><span class="op">$</span><span class="va">age</span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>[1] 21.58172</code></pre>
</div>
<div class="codewrapper sourceCode" id="cb8">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">range</span><span class="op">(</span><span class="va">dass_data</span><span class="op">$</span><span class="va">age</span><span class="op">)</span> <span class="co"># This outputs min() and max() at the same time</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>[1]   13 1998</code></pre>
</div>
<div class="codewrapper sourceCode" id="cb10">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">table</span><span class="op">(</span><span class="va">dass_data</span><span class="op">$</span><span class="va">education</span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>
    0     1     2     3     4
  515  4066 15066 15120  5008 </code></pre>
</div>
<p>The maximum value of age seems a bit implausible, unless Elrond has
decided to take the DASS after Galadriel started flirting with Sauron
(sorry, Annatar) again.</p>
</section><section><h2 class="section-heading" id="histograms">Histograms<a class="anchor" aria-label="anchor" href="#histograms"></a>
</h2>
<hr class="half-width">
<p>We can get an overview of age by using our trust
<code>hist()</code>:</p>
<div class="codewrapper sourceCode" id="cb12">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">hist</span><span class="op">(</span><span class="va">dass_data</span><span class="op">$</span><span class="va">age</span><span class="op">)</span></span></code></pre>
</div>
<figure><img src="fig/data-visualization-02-rendered-unnamed-chunk-3-1.png" style="display: block; margin: auto;" class="figure mx-auto d-block"></figure><p>However, this graph is heavily skewed by the outliers in age. We can
address this issue easily by converting to a <code>ggplot</code>
histogram. The <code>xlim()</code> layer can restrict the values that
are displayed in the plot and gives us a warning about how many values
were discarded.</p>
<div class="codewrapper sourceCode" id="cb13">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw">library</span><span class="op">(</span><span class="va">ggplot2</span><span class="op">)</span> <span class="co"># Don't forget to load the package</span></span>
<span></span>
<span><span class="fu">ggplot</span><span class="op">(</span></span>
<span>  data <span class="op">=</span> <span class="va">dass_data</span>,</span>
<span>  mapping <span class="op">=</span> <span class="fu">aes</span><span class="op">(</span>x <span class="op">=</span> <span class="va">age</span><span class="op">)</span></span>
<span><span class="op">)</span><span class="op">+</span></span>
<span>  <span class="fu">geom_histogram</span><span class="op">(</span><span class="op">)</span><span class="op">+</span></span>
<span>  <span class="fu">xlim</span><span class="op">(</span><span class="fl">0</span>, <span class="fl">100</span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>`stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">WARNING<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="warning" tabindex="0"><code>Warning: Removed 7 rows containing non-finite outside the scale range
(`stat_bin()`).</code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">WARNING<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="warning" tabindex="0"><code>Warning: Removed 2 rows containing missing values or values outside the scale range
(`geom_bar()`).</code></pre>
</div>
<figure><img src="fig/data-visualization-02-rendered-unnamed-chunk-4-1.png" style="display: block; margin: auto;" class="figure mx-auto d-block"></figure><p>Again, the number of bins might be a bit small:</p>
<div class="codewrapper sourceCode" id="cb17">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">ggplot</span><span class="op">(</span></span>
<span>  data <span class="op">=</span> <span class="va">dass_data</span>,</span>
<span>  mapping <span class="op">=</span> <span class="fu">aes</span><span class="op">(</span>x <span class="op">=</span> <span class="va">age</span><span class="op">)</span></span>
<span><span class="op">)</span><span class="op">+</span></span>
<span>  <span class="fu">geom_histogram</span><span class="op">(</span>bins <span class="op">=</span> <span class="fl">100</span><span class="op">)</span><span class="op">+</span></span>
<span>  <span class="fu">xlim</span><span class="op">(</span><span class="fl">0</span>, <span class="fl">100</span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">WARNING<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="warning" tabindex="0"><code>Warning: Removed 7 rows containing non-finite outside the scale range
(`stat_bin()`).</code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">WARNING<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="warning" tabindex="0"><code>Warning: Removed 2 rows containing missing values or values outside the scale range
(`geom_bar()`).</code></pre>
</div>
<p><img src="fig/data-visualization-02-rendered-unnamed-chunk-5-1.png" style="display: block; margin: auto;" class="figure">
We can also adjust the size of the bins, not the number of bins by using
the <code>binwidth</code> argument.</p>
<div class="codewrapper sourceCode" id="cb20">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">ggplot</span><span class="op">(</span></span>
<span>  data <span class="op">=</span> <span class="va">dass_data</span>,</span>
<span>  mapping <span class="op">=</span> <span class="fu">aes</span><span class="op">(</span>x <span class="op">=</span> <span class="va">age</span><span class="op">)</span></span>
<span><span class="op">)</span><span class="op">+</span></span>
<span>  <span class="fu">geom_histogram</span><span class="op">(</span>binwidth <span class="op">=</span> <span class="fl">1</span><span class="op">)</span><span class="op">+</span></span>
<span>  <span class="fu">xlim</span><span class="op">(</span><span class="fl">0</span>, <span class="fl">100</span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">WARNING<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="warning" tabindex="0"><code>Warning: Removed 7 rows containing non-finite outside the scale range
(`stat_bin()`).</code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">WARNING<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="warning" tabindex="0"><code>Warning: Removed 2 rows containing missing values or values outside the scale range
(`geom_bar()`).</code></pre>
</div>
<figure><img src="fig/data-visualization-02-rendered-unnamed-chunk-6-1.png" style="display: block; margin: auto;" class="figure mx-auto d-block"></figure></section><section><h2 class="section-heading" id="density-plots">Density plots<a class="anchor" aria-label="anchor" href="#density-plots"></a>
</h2>
<hr class="half-width">
<p>Often, what interests us is not the number of occurrences for a given
value, but rather which values are common and which values are uncommon.
By dividing the number of occurrences for a given value by the total
number of observation, we can obtain a <em>density-plot</em>. In
<code>ggplot</code> you achieve this by using
<code>geom_density()</code> instead of
<code>geom_histogram()</code>.</p>
<div class="codewrapper sourceCode" id="cb23">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">ggplot</span><span class="op">(</span></span>
<span>  data <span class="op">=</span> <span class="va">dass_data</span>,</span>
<span>  mapping <span class="op">=</span> <span class="fu">aes</span><span class="op">(</span>x <span class="op">=</span> <span class="va">age</span><span class="op">)</span></span>
<span><span class="op">)</span><span class="op">+</span></span>
<span>  <span class="fu">geom_density</span><span class="op">(</span><span class="op">)</span><span class="op">+</span></span>
<span>  <span class="fu">xlim</span><span class="op">(</span><span class="fl">0</span>, <span class="fl">100</span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">WARNING<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="warning" tabindex="0"><code>Warning: Removed 7 rows containing non-finite outside the scale range
(`stat_density()`).</code></pre>
</div>
<figure><img src="fig/data-visualization-02-rendered-unnamed-chunk-7-1.png" style="display: block; margin: auto;" class="figure mx-auto d-block"></figure><p>This describes the overall age distribution, but we can also look at
the age distribution by education status. What would you expect?</p>
<p>Again, we do this by using the <code>color</code> argument in
<code>aes()</code>, as I want different colored density plots for each
education level.</p>
<div class="codewrapper sourceCode" id="cb25">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">ggplot</span><span class="op">(</span></span>
<span>  data <span class="op">=</span> <span class="va">dass_data</span>,</span>
<span>  mapping <span class="op">=</span> <span class="fu">aes</span><span class="op">(</span>x <span class="op">=</span> <span class="va">age</span>, color <span class="op">=</span> <span class="va">education</span><span class="op">)</span></span>
<span><span class="op">)</span><span class="op">+</span></span>
<span>  <span class="fu">geom_density</span><span class="op">(</span><span class="op">)</span><span class="op">+</span></span>
<span>  <span class="fu">xlim</span><span class="op">(</span><span class="fl">0</span>, <span class="fl">100</span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">WARNING<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="warning" tabindex="0"><code>Warning: Removed 7 rows containing non-finite outside the scale range
(`stat_density()`).</code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">WARNING<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="warning" tabindex="0"><code>Warning: The following aesthetics were dropped during statistical transformation:
colour.
ℹ This can happen when ggplot fails to infer the correct grouping structure in
  the data.
ℹ Did you forget to specify a `group` aesthetic or to convert a numerical
  variable into a factor?</code></pre>
</div>
<figure><img src="fig/data-visualization-02-rendered-unnamed-chunk-8-1.png" style="display: block; margin: auto;" class="figure mx-auto d-block"></figure><p>It seems like this didn’t work. And the warning message tells us why.
We forgot to specify a <code>group</code> variable that tells the
plotting function that we not only want different colors, we also want
different lines, grouped by education status:</p>
<div class="codewrapper sourceCode" id="cb28">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">ggplot</span><span class="op">(</span></span>
<span>  data <span class="op">=</span> <span class="va">dass_data</span>,</span>
<span>  mapping <span class="op">=</span> <span class="fu">aes</span><span class="op">(</span>x <span class="op">=</span> <span class="va">age</span>, color <span class="op">=</span> <span class="va">education</span>, group <span class="op">=</span> <span class="va">education</span><span class="op">)</span></span>
<span><span class="op">)</span><span class="op">+</span></span>
<span>  <span class="fu">geom_density</span><span class="op">(</span><span class="op">)</span><span class="op">+</span></span>
<span>  <span class="fu">xlim</span><span class="op">(</span><span class="fl">0</span>, <span class="fl">100</span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">WARNING<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="warning" tabindex="0"><code>Warning: Removed 7 rows containing non-finite outside the scale range
(`stat_density()`).</code></pre>
</div>
<figure><img src="fig/data-visualization-02-rendered-unnamed-chunk-9-1.png" style="display: block; margin: auto;" class="figure mx-auto d-block"></figure><p>Because education is a numerical variable, <code>ggplot</code> uses a
sliding color scale to color its values. I think it looks a little more
beautiful if we declare that despite having numbers as entries,
<code>education</code> is not strictly numerical. The different numbers
represent distinct levels of educational attainment. We can encode this
using <code>factor()</code> to convert <code>education</code> into a
variable-type called <em>factor</em> that has this property.</p>
<div class="codewrapper sourceCode" id="cb30">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">dass_data</span><span class="op">$</span><span class="va">education</span> <span class="op">&lt;-</span> <span class="fu">factor</span><span class="op">(</span><span class="va">dass_data</span><span class="op">$</span><span class="va">education</span><span class="op">)</span></span>
<span><span class="fu">ggplot</span><span class="op">(</span></span>
<span>  data <span class="op">=</span> <span class="va">dass_data</span>,</span>
<span>  mapping <span class="op">=</span> <span class="fu">aes</span><span class="op">(</span>x <span class="op">=</span> <span class="va">age</span>, color <span class="op">=</span> <span class="va">education</span>, group <span class="op">=</span> <span class="va">education</span><span class="op">)</span></span>
<span><span class="op">)</span><span class="op">+</span></span>
<span>  <span class="fu">geom_density</span><span class="op">(</span><span class="op">)</span><span class="op">+</span></span>
<span>  <span class="fu">xlim</span><span class="op">(</span><span class="fl">0</span>, <span class="fl">100</span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">WARNING<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="warning" tabindex="0"><code>Warning: Removed 7 rows containing non-finite outside the scale range
(`stat_density()`).</code></pre>
</div>
<figure><img src="fig/data-visualization-02-rendered-unnamed-chunk-10-1.png" style="display: block; margin: auto;" class="figure mx-auto d-block"></figure><p>We can make this graph look a little bit better by filling in the
area under the curves with the color aswell and making them slightly
transparent. This can be done using the <code>fill</code> argument and
the <code>alpha</code> argument. Let’s also give the graph a proper
title and labels.</p>
<div class="codewrapper sourceCode" id="cb32">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">ggplot</span><span class="op">(</span></span>
<span>  data <span class="op">=</span> <span class="va">dass_data</span>,</span>
<span>  mapping <span class="op">=</span> <span class="fu">aes</span><span class="op">(</span>x <span class="op">=</span> <span class="va">age</span>, color <span class="op">=</span> <span class="va">education</span>, group <span class="op">=</span> <span class="va">education</span>, fill <span class="op">=</span> <span class="va">education</span><span class="op">)</span></span>
<span><span class="op">)</span><span class="op">+</span></span>
<span>  <span class="fu">geom_density</span><span class="op">(</span>alpha <span class="op">=</span> <span class="fl">0.5</span><span class="op">)</span><span class="op">+</span></span>
<span>  <span class="fu">xlim</span><span class="op">(</span><span class="fl">0</span>, <span class="fl">100</span><span class="op">)</span><span class="op">+</span></span>
<span>  <span class="fu">labs</span><span class="op">(</span></span>
<span>    title <span class="op">=</span> <span class="st">"Age distribution by education status"</span>,</span>
<span>    x <span class="op">=</span> <span class="st">"Age"</span>,</span>
<span>    y <span class="op">=</span> <span class="st">"Density"</span></span>
<span>  <span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">theme_minimal</span><span class="op">(</span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">WARNING<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="warning" tabindex="0"><code>Warning: Removed 7 rows containing non-finite outside the scale range
(`stat_density()`).</code></pre>
</div>
<figure><img src="fig/data-visualization-02-rendered-unnamed-chunk-11-1.png" style="display: block; margin: auto;" class="figure mx-auto d-block"></figure><p>In this graph, we can see exactly what we would expect. As the
highest achieved education increases, the age of test-takers generally
gets larger as-well. There just are very little people under 20 with a
PhD.</p>
</section><section><h2 class="section-heading" id="bar-charts">Bar Charts<a class="anchor" aria-label="anchor" href="#bar-charts"></a>
</h2>
<hr class="half-width">
<p>As a last step of exploration, let’s visualize the number of people
that achieved a certain educational status. A bar chart is perfect for
this:</p>
<div class="codewrapper sourceCode" id="cb34">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">ggplot</span><span class="op">(</span></span>
<span>  data <span class="op">=</span> <span class="va">dass_data</span>,</span>
<span>  mapping <span class="op">=</span> <span class="fu">aes</span><span class="op">(</span>x <span class="op">=</span> <span class="va">education</span><span class="op">)</span></span>
<span><span class="op">)</span><span class="op">+</span></span>
<span>  <span class="fu">geom_bar</span><span class="op">(</span><span class="op">)</span></span></code></pre>
</div>
<figure><img src="fig/data-visualization-02-rendered-unnamed-chunk-12-1.png" style="display: block; margin: auto;" class="figure mx-auto d-block"></figure><p>This visualizes the same numbers as
<code>table(dass_data$education)</code> and sometimes, you may not need
to create a plot if the numbers already tell <em>you</em> everything you
need to know. However, remember that often you need to communicate your
results to other people. And as they say “A picture says more than 1000
words”.</p>
<p>We can also include gender as a variable here, in order to compare
educational attainment between available genders. Let’s plot gender on
the x-axis and color the different education levels.</p>
<div class="codewrapper sourceCode" id="cb35">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">ggplot</span><span class="op">(</span></span>
<span>  data <span class="op">=</span> <span class="va">dass_data</span>,</span>
<span>  mapping <span class="op">=</span> <span class="fu">aes</span><span class="op">(</span>x <span class="op">=</span> <span class="va">gender</span>, fill <span class="op">=</span> <span class="va">education</span><span class="op">)</span></span>
<span><span class="op">)</span><span class="op">+</span></span>
<span>  <span class="fu">geom_bar</span><span class="op">(</span><span class="op">)</span></span></code></pre>
</div>
<figure><img src="fig/data-visualization-02-rendered-unnamed-chunk-13-1.png" style="display: block; margin: auto;" class="figure mx-auto d-block"></figure><p>This graph is very good at showing one thing: there are more females
in the data than males. However, this is not the comparison we are
interested in. We can plot relative frequencies of education by gender
by using the argument <code>position = "fill"</code>.</p>
<div class="codewrapper sourceCode" id="cb36">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">ggplot</span><span class="op">(</span></span>
<span>  data <span class="op">=</span> <span class="va">dass_data</span>,</span>
<span>  mapping <span class="op">=</span> <span class="fu">aes</span><span class="op">(</span>x <span class="op">=</span> <span class="va">gender</span>, fill <span class="op">=</span> <span class="va">education</span><span class="op">)</span></span>
<span><span class="op">)</span><span class="op">+</span></span>
<span>  <span class="fu">geom_bar</span><span class="op">(</span>position <span class="op">=</span> <span class="st">"fill"</span><span class="op">)</span></span></code></pre>
</div>
<figure><img src="fig/data-visualization-02-rendered-unnamed-chunk-14-1.png" style="display: block; margin: auto;" class="figure mx-auto d-block"></figure><p>This plot shows that education levels don’t differ dramatically
between males and females in our sample, with females holding a
university degree more often than males.</p>
</section><section><h2 class="section-heading" id="common-problems">Common Problems<a class="anchor" aria-label="anchor" href="#common-problems"></a>
</h2>
<hr class="half-width">
<p>This section is lifted from <a href="https://r4ds.hadley.nz/data-visualize.html#common-problems" class="external-link">R for
Data Science (2e)</a>.</p>
<p>As you start to run R code, you’re likely to run into problems. Don’t
worry — it happens to everyone. We have all been writing R code for
years, but every day we still write code that doesn’t work on the first
try!</p>
<p>Start by carefully comparing the code that you’re running to the code
in the book. R is extremely picky, and a misplaced character can make
all the difference. Make sure that every <code>(</code> is matched with
a <code>)</code> and every <code>"</code> is paired with another
<code>"</code>. Sometimes you’ll run the code and nothing happens. Check
the left-hand of your console: if it’s a <code>+</code>, it means that R
doesn’t think you’ve typed a complete expression and it’s waiting for
you to finish it. In this case, it’s usually easy to start from scratch
again by pressing ESCAPE to abort processing the current command.</p>
<p>One common problem when creating ggplot2 graphics is to put the + in
the wrong place: it has to come at the end of the line, not the start.
In other words, make sure you haven’t accidentally written code like
this:</p>
<div class="codewrapper sourceCode" id="cb37">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">ggplot</span><span class="op">(</span>data <span class="op">=</span> <span class="va">mpg</span><span class="op">)</span> </span>
<span><span class="op">+</span> <span class="fu">geom_point</span><span class="op">(</span>mapping <span class="op">=</span> <span class="fu">aes</span><span class="op">(</span>x <span class="op">=</span> <span class="va">displ</span>, y <span class="op">=</span> <span class="va">hwy</span><span class="op">)</span><span class="op">)</span></span></code></pre>
</div>
<p>If you’re still stuck, try the help. You can get help about any R
function by running <code>?function_name</code> in the console, or
highlighting the function name and pressing F1 in RStudio. Don’t worry
if the help doesn’t seem that helpful - instead skip down to the
examples and look for code that matches what you’re trying to do.</p>
<p>If that doesn’t help, carefully read the error message. Sometimes the
answer will be buried there! But when you’re new to R, even if the
answer is in the error message, you might not yet know how to understand
it. Another great tool is Google: try googling the error message, as
it’s likely someone else has had the same problem, and has gotten help
online.</p>
</section><section><h2 class="section-heading" id="recap---knowing-your-data">Recap - Knowing your data!<a class="anchor" aria-label="anchor" href="#recap---knowing-your-data"></a>
</h2>
<hr class="half-width">
<p>It’s important to understand your data, its sources and quirks
<em>before</em> you start working with it! This is why the last few
episodes focused so much on descriptive statistics and plots. Get to
know the structure of your data, figure out where it came from and what
type of people constitute the sample. Monitor your key variables for
implausible or impossible values. Statistical outliers we can define
later, but make sure to identify issues with impossible values early
on!</p>
</section><section><h2 class="section-heading" id="challenges">Challenges<a class="anchor" aria-label="anchor" href="#challenges"></a>
</h2>
<hr class="half-width">
<div id="challenge-1" class="callout discussion">
<div class="callout-square">
<i class="callout-icon" data-feather="message-circle"></i>
</div>
<div id="challenge-1" class="callout-inner">
<h3 class="callout-title">Challenge 1</h3>
<div class="callout-content">
<p>Review what we learned about the DASS data so far. What are the key
demographic indicators? Is there anything else important to note?</p>
</div>
</div>
</div>
<div id="challenge-2" class="callout discussion">
<div class="callout-square">
<i class="callout-icon" data-feather="message-circle"></i>
</div>
<div id="challenge-2" class="callout-inner">
<h3 class="callout-title">Challenge 2</h3>
<div class="callout-content">
<p>Read the <a href="data/kaggle_dass/codeboot.txt">codebook</a>. What
is the difference between <code>Q1A</code>, <code>Q1E</code> and
<code>Q1I</code>?</p>
</div>
</div>
</div>
<div id="challenge-3" class="callout discussion">
<div class="callout-square">
<i class="callout-icon" data-feather="message-circle"></i>
</div>
<div id="challenge-3" class="callout-inner">
<h3 class="callout-title">Challenge 3</h3>
<div class="callout-content">
<p>Provide descriptive statistics of the time it took participants to
complete the DASS-part of the survey. What variable is this stored in?
What is the average time? Are there any outliers? What is the average
time without outliers?</p>
</div>
</div>
</div>
<div id="challenge-4" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="challenge-4" class="callout-inner">
<h3 class="callout-title">Challenge 4</h3>
<div class="callout-content">
<p>Plot a distribution of the elapsed test time. What might be a
sensible cutoff for outliers?</p>
<p>Plot a distribution of elapsed test time by whether English was the
native language. What do you expect? What can you see? What are your
thoughts on the distribution?</p>
</div>
</div>
</div>
<div id="accordionSolution1" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution1" aria-expanded="false" aria-controls="collapseSolution1">
  <h4 class="accordion-header" id="headingSolution1"> Show me the solution </h4>
</button>
<div id="collapseSolution1" class="accordion-collapse collapse" aria-labelledby="headingSolution1" data-bs-parent="#accordionSolution1">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb38">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">dass_data</span><span class="op">$</span><span class="va">engnat</span> <span class="op">&lt;-</span> <span class="fu">factor</span><span class="op">(</span><span class="va">dass_data</span><span class="op">$</span><span class="va">engnat</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">ggplot</span><span class="op">(</span></span>
<span>  data <span class="op">=</span> <span class="va">dass_data</span>,</span>
<span>  mapping <span class="op">=</span> <span class="fu">aes</span><span class="op">(</span></span>
<span>    x <span class="op">=</span> <span class="va">testelapse</span>, fill <span class="op">=</span> <span class="va">engnat</span>, group <span class="op">=</span> <span class="va">engnat</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span><span class="op">+</span></span>
<span>  <span class="fu">geom_density</span><span class="op">(</span>alpha <span class="op">=</span> <span class="fl">0.5</span><span class="op">)</span><span class="op">+</span></span>
<span>  <span class="fu">xlim</span><span class="op">(</span><span class="fl">0</span>, <span class="fl">3000</span><span class="op">)</span><span class="op">+</span></span>
<span>  <span class="fu">labs</span><span class="op">(</span></span>
<span>    title <span class="op">=</span> <span class="st">"Distribution of test completion times"</span>,</span>
<span>    subtitle <span class="op">=</span> <span class="st">"By Mother Tongue"</span>,</span>
<span>    x <span class="op">=</span> <span class="st">"Test completion time (s)"</span>,</span>
<span>    y <span class="op">=</span> <span class="st">"Density"</span></span>
<span>  <span class="op">)</span><span class="op">+</span></span>
<span>  <span class="fu">theme_minimal</span><span class="op">(</span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">WARNING<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="warning" tabindex="0"><code>Warning: Removed 399 rows containing non-finite outside the scale range
(`stat_density()`).</code></pre>
</div>
<figure><img src="fig/data-visualization-02-rendered-unnamed-chunk-16-1.png" style="display: block; margin: auto;" class="figure mx-auto d-block"></figure>
</div>
</div>
</div>
</div>
<div id="challenge-5" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="challenge-5" class="callout-inner">
<h3 class="callout-title">Challenge 5</h3>
<div class="callout-content">
<p>Learn something about the handedness of test-takers. Get the number
of test-takers with each handedness using <code>table</code> and
visualize it using <code>geom_bar()</code>.</p>
<p>Plot the handedness of test-takers by educational status. Do you see
any differences?</p>
</div>
</div>
</div>
<div id="accordionSolution2" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution2" aria-expanded="false" aria-controls="collapseSolution2">
  <h4 class="accordion-header" id="headingSolution2"> Show me the solution </h4>
</button>
<div id="collapseSolution2" class="accordion-collapse collapse" aria-labelledby="headingSolution2" data-bs-parent="#accordionSolution2">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb40">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">ggplot</span><span class="op">(</span></span>
<span>  data <span class="op">=</span> <span class="va">dass_data</span>,</span>
<span>  mapping <span class="op">=</span> <span class="fu">aes</span><span class="op">(</span></span>
<span>    x <span class="op">=</span> <span class="va">hand</span>,</span>
<span>    fill <span class="op">=</span> <span class="va">education</span>,</span>
<span>    group <span class="op">=</span> <span class="va">education</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span><span class="op">+</span></span>
<span>  <span class="fu">geom_bar</span><span class="op">(</span>position <span class="op">=</span> <span class="st">"fill"</span><span class="op">)</span><span class="op">+</span></span>
<span>  <span class="fu">labs</span><span class="op">(</span></span>
<span>    title <span class="op">=</span> <span class="st">"Educational attainment by handedness"</span>,</span>
<span>    x <span class="op">=</span> <span class="st">"Handedness (0 = NA, 1 = Right, 2 = Left, 3 = Both)"</span>,</span>
<span>    y <span class="op">=</span> <span class="st">"Proportion"</span></span>
<span>  <span class="op">)</span><span class="op">+</span></span>
<span>  <span class="fu">theme_minimal</span><span class="op">(</span><span class="op">)</span></span></code></pre>
</div>
<figure><img src="fig/data-visualization-02-rendered-unnamed-chunk-17-1.png" style="display: block; margin: auto;" class="figure mx-auto d-block"></figure>
</div>
</div>
</div>
</div>
<div id="keypoints1" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Key Points</h3>
<div class="callout-content">
<ul>
<li>Get to know new data by inspecting it and computing key descriptive
statistics</li>
<li>Visualize distributions of key variables in order to learn about
factors that impact them</li>
<li>Visualize distribution of a numeric and a categorical variable using
<code>geom_density()</code>
</li>
<li>Visualize distribution of two categorial variables using
<code>geom_bar()</code>
</li>
</ul>
</div>
</div>
</div>
<!--
Place links that you need to refer to multiple times across pages here. Delete
any links that you are not going to use.
 -->
</section></section><section id="aio-filtering"><p>Content from <a href="filtering.html">Filtering data</a></p>
<hr>
<p>Last updated on 2025-03-19 |

        <a href="https://github.com/SLesche/r-for-empra/edit/main/episodes/filtering.Rmd" class="external-link">Edit this page <i aria-hidden="true" data-feather="edit"></i></a></p>
<div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right" data-expand="Expand All Solutions " data-collapse="Collapse All Solutions "> Expand All Solutions <i aria-hidden="true" data-feather="plus"></i></button>
        </div>
<div class="overview card">
<h2 class="card-header">Overview</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Questions</h3>
<ul>
<li>How do you filter invalid data?</li>
<li>How do you chain commands using the pipe <code>%&gt;%</code>?</li>
<li>How can I select only some columns of my data?</li>
</ul>
</div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Objectives</h3>
<ul>
<li>Explain how to filter rows using <code>filter()</code>
</li>
<li>Demonstrate how to select columns using <code>select()</code>
</li>
<li>Explain how to use the pipe <code>%&gt;%</code> to facilitate clean
code</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<section><h2 class="section-heading" id="filtering">Filtering<a class="anchor" aria-label="anchor" href="#filtering"></a>
</h2>
<hr class="half-width">
<p>In the earlier episodes, we have already seen some impossible values
in <code>age</code> and <code>testelapse</code>. In our analyses, we
probably want to exclude those values, or at the very least investigate
what is wrong. In order to do that, we need to <em>filter</em> our data
- to make sure it only has those observations that we actually want. The
<code>dplyr</code> package provides a useful function for this:
<code>filter()</code>.</p>
<p>Let’s start by again loading in our data, and also loading the
package <code>dplyr</code>.</p>
<div class="codewrapper sourceCode" id="cb1">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw">library</span><span class="op">(</span><span class="va">dplyr</span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>
Attaching package: 'dplyr'</code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>The following objects are masked from 'package:stats':

    filter, lag</code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>The following objects are masked from 'package:base':

    intersect, setdiff, setequal, union</code></pre>
</div>
<div class="codewrapper sourceCode" id="cb5">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">dass_data</span> <span class="op">&lt;-</span> <span class="fu">read.csv</span><span class="op">(</span><span class="st">"data/kaggle_dass/data.csv"</span><span class="op">)</span></span></code></pre>
</div>
<p>The <code>filter</code> function works with two key inputs, the data
and the arguments that you want to filter by. The data is always the
first argument in the filter function. The following arguments are the
filter conditions. For example, in order to only include people that are
20 years old, we can run the following code:</p>
<div class="codewrapper sourceCode" id="cb6">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">twenty_year_olds</span> <span class="op">&lt;-</span> <span class="fu">filter</span><span class="op">(</span><span class="va">dass_data</span>, <span class="va">age</span> <span class="op">==</span> <span class="fl">20</span><span class="op">)</span></span>
<span><span class="co"># Lets make sure this worked</span></span>
<span><span class="fu">table</span><span class="op">(</span><span class="va">twenty_year_olds</span><span class="op">$</span><span class="va">age</span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span></span>
<span>  <span class="fl">20</span></span>
<span><span class="fl">3789</span> </span></code></pre>
</div>
<div class="codewrapper sourceCode" id="cb8">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># range(twenty_year_olds$age) # OR THIS</span></span>
<span><span class="co"># unique(twenty_year_olds$age) # OR THIS</span></span>
<span><span class="co"># OR other things that come to mind can check this</span></span></code></pre>
</div>
<p>Now, in order to only include participants aged between 0 and 100,
which seems like a reasonable range, we can condition on
<code>age &gt;= 0 &amp; age &lt;= 100</code>.</p>
<div class="codewrapper sourceCode" id="cb9">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">valid_age_dass</span> <span class="op">&lt;-</span> <span class="fu">filter</span><span class="op">(</span><span class="va">dass_data</span>, <span class="va">age</span> <span class="op">&gt;=</span> <span class="fl">0</span> <span class="op">&amp;</span> <span class="va">age</span> <span class="op">&lt;=</span> <span class="fl">100</span><span class="op">)</span></span></code></pre>
</div>
<p>Let’s check if this worked using a histogram.</p>
<div class="codewrapper sourceCode" id="cb10">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">hist</span><span class="op">(</span><span class="va">valid_age_dass</span><span class="op">$</span><span class="va">age</span>, breaks <span class="op">=</span> <span class="fl">50</span><span class="op">)</span></span></code></pre>
</div>
<figure><img src="fig/filtering-rendered-unnamed-chunk-4-1.png" style="display: block; margin: auto;" class="figure mx-auto d-block"></figure><p>Looks good! Now it is always a good idea to inspect the values you
removed from the data, in order to make sure that you did not remove
something you intended to keep, and to learn something about the data
you removed.</p>
<p>Let’s first check how many rows of data we actually removed:</p>
<div class="codewrapper sourceCode" id="cb11">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">n_rows_original</span> <span class="op">&lt;-</span> <span class="fu">nrow</span><span class="op">(</span><span class="va">dass_data</span><span class="op">)</span></span>
<span></span>
<span><span class="va">n_rows_valid_age</span> <span class="op">&lt;-</span> <span class="fu">nrow</span><span class="op">(</span><span class="va">valid_age_dass</span><span class="op">)</span></span>
<span></span>
<span><span class="va">n_rows_removed</span> <span class="op">&lt;-</span> <span class="va">n_rows_original</span> <span class="op">-</span> <span class="va">n_rows_valid_age</span></span>
<span></span>
<span><span class="va">n_rows_removed</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>[1] 7</code></pre>
</div>
<p>This seems okay! Only 7 removed cases out of almost 40000 entries is
negligible. Nonentheless, let’s investigate this further.</p>
<div class="codewrapper sourceCode" id="cb13">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">impossible_age_data</span> <span class="op">&lt;-</span> <span class="fu">filter</span><span class="op">(</span><span class="va">dass_data</span>, <span class="va">age</span> <span class="op">&lt;</span> <span class="fl">0</span> <span class="op">|</span> <span class="va">age</span> <span class="op">&gt;</span> <span class="fl">100</span><span class="op">)</span></span></code></pre>
</div>
<p>Now we have a dataset that c</p>
<p>filter out the age thing. Notice the nmumber of rows. Talk about
doing sanity checks to see if you actually filtered what you want</p>
<p>Now we can also filter to include. Lets do that and see what happend
in the age columns</p>
</section><section><h2 class="section-heading" id="selecting-columns">Selecting columns<a class="anchor" aria-label="anchor" href="#selecting-columns"></a>
</h2>
<hr class="half-width">
<p>We dont want to inspect the whole thing, but just the columns that
interest us</p>
<p>Let’s use select to typr them</p>
<p>then inspect the age with some key demographics</p>
<div id="selecting-a-column-twice" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="selecting-a-column-twice" class="callout-inner">
<h3 class="callout-title">Selecting a column twice</h3>
<div class="callout-content">
<p>What happpens when you type column twice? Using everything() to
relocate columns</p>
</div>
</div>
</div>
</section><section><h2 class="section-heading" id="using-the-pipe">Using the pipe <code>%&gt;%</code>
<a class="anchor" aria-label="anchor" href="#using-the-pipe"></a>
</h2>
<hr class="half-width">
<p>notice what we did before, what could make this easier?</p>
<p>Introduc3e the pipe, then use it with a plotting function (age dist,
but now wihtout xlim())</p>
<ul>
<li>also something about functions and naming arguments (or not naming
them)</li>
</ul>
<div id="different-pipes-vs." class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="different-pipes-vs." class="callout-inner">
<h3 class="callout-title">Different pipes %&gt;% vs. |&gt;</h3>
<div class="callout-content">
<ul>
<li>a word about base-r pipe |&gt;</li>
</ul>
</div>
</div>
</div>
</section><section><h2 class="section-heading" id="common-problems">Common problems<a class="anchor" aria-label="anchor" href="#common-problems"></a>
</h2>
<hr class="half-width"></section><section><h2 class="section-heading" id="challenges">Challenges<a class="anchor" aria-label="anchor" href="#challenges"></a>
</h2>
<hr class="half-width">
<p>Filter some column, then compute statistics</p>
<p>Filter based on multiple conditions using chaining</p>
<p>Give me a specific dataset with columns and filtered stuff</p>
<p>Save a specific dataset (that we will work with next)</p>
<div id="keypoints1" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Key Points</h3>
<div class="callout-content">

</div>
</div>
</div>
<!--
Place links that you need to refer to multiple times across pages here. Delete
any links that you are not going to use.
 -->
</section></section><section id="aio-mutating"><p>Content from <a href="mutating.html">mutating</a></p>
<hr>
<p>Last updated on 2025-03-19 |

        <a href="https://github.com/SLesche/r-for-empra/edit/main/episodes/mutating.Rmd" class="external-link">Edit this page <i aria-hidden="true" data-feather="edit"></i></a></p>
<div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right" data-expand="Expand All Solutions " data-collapse="Collapse All Solutions "> Expand All Solutions <i aria-hidden="true" data-feather="plus"></i></button>
        </div>
<div class="overview card">
<h2 class="card-header">Overview</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Questions</h3>
<ul>
<li>How do you write a lesson using R Markdown and
<a href="https://carpentries.github.io/sandpaper/" class="external-link">sandpaper</a>?</li>
</ul>
</div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Objectives</h3>
<ul>
<li>Explain how to use markdown with the new lesson template</li>
<li>Demonstrate how to include pieces of code, figures, and nested
challenge blocks</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<section><h2 class="section-heading" id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<hr class="half-width">
<p>This is a lesson created via The Carpentries Workbench. It is written
in <a href="https://pandoc.org/MANUAL.html" class="external-link">Pandoc-flavored Markdown</a>
for static files (with extension <code>.md</code>) and <a href="https://rmarkdown.rstudio.com/" class="external-link">R Markdown</a> for dynamic files
that can render code into output (with extension <code>.Rmd</code>).
Please refer to the <a href="https://carpentries.github.io/sandpaper-docs/" class="external-link">Introduction to The
Carpentries Workbench</a> for full documentation.</p>
<p>What you need to know is that there are three sections required for a
valid Carpentries lesson template:</p>
<ol style="list-style-type: decimal">
<li>
<code>questions</code> are displayed at the beginning of the episode
to prime the learner for the content.</li>
<li>
<code>objectives</code> are the learning objectives for an episode
displayed with the questions.</li>
<li>
<code>keypoints</code> are displayed at the end of the episode to
reinforce the objectives.</li>
</ol>
<div id="challenge-1-can-you-do-it" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="challenge-1-can-you-do-it" class="callout-inner">
<h3 class="callout-title">Challenge 1: Can you do it?</h3>
<div class="callout-content">
<p>What is the output of this command?</p>
<div class="codewrapper sourceCode" id="cb1">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">paste</span><span class="op">(</span><span class="st">"This"</span>, <span class="st">"new"</span>, <span class="st">"lesson"</span>, <span class="st">"looks"</span>, <span class="st">"good"</span><span class="op">)</span></span></code></pre>
</div>
</div>
</div>
</div>
<div id="accordionSolution1" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution1" aria-expanded="false" aria-controls="collapseSolution1">
  <h4 class="accordion-header" id="headingSolution1"> Output </h4>
</button>
<div id="collapseSolution1" class="accordion-collapse collapse" data-bs-parent="#accordionSolution1" aria-labelledby="headingSolution1">
<div class="accordion-body">
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>[1] "This new lesson looks good"</code></pre>
</div>
</div>
</div>
</div>
</div>
<div id="challenge-2-how-do-you-nest-solutions-within-challenge-blocks" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="challenge-2-how-do-you-nest-solutions-within-challenge-blocks" class="callout-inner">
<h3 class="callout-title">Challenge 2: how do you nest solutions within challenge blocks?</h3>
<div class="callout-content">

</div>
</div>
</div>
<div id="accordionSolution2" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution2" aria-expanded="false" aria-controls="collapseSolution2">
  <h4 class="accordion-header" id="headingSolution2"> Show me the solution </h4>
</button>
<div id="collapseSolution2" class="accordion-collapse collapse" data-bs-parent="#accordionSolution2" aria-labelledby="headingSolution2">
<div class="accordion-body">
<p>You can add a line with at least three colons and a
<code>solution</code> tag.</p>
</div>
</div>
</div>
</div>
</section><section><h2 class="section-heading" id="figures">Figures<a class="anchor" aria-label="anchor" href="#figures"></a>
</h2>
<hr class="half-width">
<p>You can include figures generated from R Markdown:</p>
<div class="codewrapper sourceCode" id="cb3">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">pie</span><span class="op">(</span></span>
<span>  <span class="fu">c</span><span class="op">(</span>Sky <span class="op">=</span> <span class="fl">78</span>, <span class="st">"Sunny side of pyramid"</span> <span class="op">=</span> <span class="fl">17</span>, <span class="st">"Shady side of pyramid"</span> <span class="op">=</span> <span class="fl">5</span><span class="op">)</span>, </span>
<span>  init.angle <span class="op">=</span> <span class="fl">315</span>, </span>
<span>  col <span class="op">=</span> <span class="fu">c</span><span class="op">(</span><span class="st">"deepskyblue"</span>, <span class="st">"yellow"</span>, <span class="st">"yellow3"</span><span class="op">)</span>, </span>
<span>  border <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre>
</div>
<figure style="text-align: center"><img src="fig/mutating-rendered-pyramid-1.png" alt="pie chart illusion of a pyramid" class="figure mx-auto d-block"><figcaption>
Sun arise each and every morning
</figcaption></figure><p>Or you can use pandoc markdown for static figures with the following
syntax:</p>
<p><code>![optional caption that appears below the figure](figure url){alt='alt text for accessibility purposes'}</code></p>
<figure><img src="https://raw.githubusercontent.com/carpentries/logo/master/Badge_Carpentries.svg" alt="Blue Carpentries hex person logo with no text." class="figure mx-auto d-block"><div class="figcaption">You belong in The Carpentries!</div>
</figure></section><section><h2 class="section-heading" id="math">Math<a class="anchor" aria-label="anchor" href="#math"></a>
</h2>
<hr class="half-width">
<p>One of our episodes contains <span class="math inline">\(\LaTeX\)</span> equations when describing how to
create dynamic reports with {knitr}, so we now use mathjax to describe
this:</p>
<p><code>$\alpha = \dfrac{1}{(1 - \beta)^2}$</code> becomes: <span class="math inline">\(\alpha = \dfrac{1}{(1 - \beta)^2}\)</span></p>
<p>Cool, right?</p>
<div id="keypoints1" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Key Points</h3>
<div class="callout-content">
<ul>
<li>Use <code>.md</code> files for episodes when you want static
content</li>
<li>Use <code>.Rmd</code> files for episodes when you need to generate
output</li>
<li>Run <code>sandpaper::check_lesson()</code> to identify any issues
with your lesson</li>
<li>Run <code>sandpaper::build_lesson()</code> to preview your lesson
locally</li>
</ul>
</div>
</div>
</div>
<!--
Place links that you need to refer to multiple times across pages here. Delete
any links that you are not going to use.
 -->
</section></section><section id="aio-count-and-summarize"><p>Content from <a href="count-and-summarize.html">count-and-summarize</a></p>
<hr>
<p>Last updated on 2025-03-19 |

        <a href="https://github.com/SLesche/r-for-empra/edit/main/episodes/count-and-summarize.Rmd" class="external-link">Edit this page <i aria-hidden="true" data-feather="edit"></i></a></p>
<div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right" data-expand="Expand All Solutions " data-collapse="Collapse All Solutions "> Expand All Solutions <i aria-hidden="true" data-feather="plus"></i></button>
        </div>
<div class="overview card">
<h2 class="card-header">Overview</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Questions</h3>
<ul>
<li>How do you write a lesson using R Markdown and
<a href="https://carpentries.github.io/sandpaper/" class="external-link">sandpaper</a>?</li>
</ul>
</div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Objectives</h3>
<ul>
<li>Explain how to use markdown with the new lesson template</li>
<li>Demonstrate how to include pieces of code, figures, and nested
challenge blocks</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<section><h2 class="section-heading" id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<hr class="half-width">
<p>This is a lesson created via The Carpentries Workbench. It is written
in <a href="https://pandoc.org/MANUAL.html" class="external-link">Pandoc-flavored Markdown</a>
for static files (with extension <code>.md</code>) and <a href="https://rmarkdown.rstudio.com/" class="external-link">R Markdown</a> for dynamic files
that can render code into output (with extension <code>.Rmd</code>).
Please refer to the <a href="https://carpentries.github.io/sandpaper-docs/" class="external-link">Introduction to The
Carpentries Workbench</a> for full documentation.</p>
<p>What you need to know is that there are three sections required for a
valid Carpentries lesson template:</p>
<ol style="list-style-type: decimal">
<li>
<code>questions</code> are displayed at the beginning of the episode
to prime the learner for the content.</li>
<li>
<code>objectives</code> are the learning objectives for an episode
displayed with the questions.</li>
<li>
<code>keypoints</code> are displayed at the end of the episode to
reinforce the objectives.</li>
</ol>
<div id="challenge-1-can-you-do-it" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="challenge-1-can-you-do-it" class="callout-inner">
<h3 class="callout-title">Challenge 1: Can you do it?</h3>
<div class="callout-content">
<p>What is the output of this command?</p>
<div class="codewrapper sourceCode" id="cb1">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">paste</span><span class="op">(</span><span class="st">"This"</span>, <span class="st">"new"</span>, <span class="st">"lesson"</span>, <span class="st">"looks"</span>, <span class="st">"good"</span><span class="op">)</span></span></code></pre>
</div>
</div>
</div>
</div>
<div id="accordionSolution1" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution1" aria-expanded="false" aria-controls="collapseSolution1">
  <h4 class="accordion-header" id="headingSolution1"> Output </h4>
</button>
<div id="collapseSolution1" class="accordion-collapse collapse" aria-labelledby="headingSolution1" data-bs-parent="#accordionSolution1">
<div class="accordion-body">
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>[1] "This new lesson looks good"</code></pre>
</div>
</div>
</div>
</div>
</div>
<div id="challenge-2-how-do-you-nest-solutions-within-challenge-blocks" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="challenge-2-how-do-you-nest-solutions-within-challenge-blocks" class="callout-inner">
<h3 class="callout-title">Challenge 2: how do you nest solutions within challenge blocks?</h3>
<div class="callout-content">

</div>
</div>
</div>
<div id="accordionSolution2" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution2" aria-expanded="false" aria-controls="collapseSolution2">
  <h4 class="accordion-header" id="headingSolution2"> Show me the solution </h4>
</button>
<div id="collapseSolution2" class="accordion-collapse collapse" aria-labelledby="headingSolution2" data-bs-parent="#accordionSolution2">
<div class="accordion-body">
<p>You can add a line with at least three colons and a
<code>solution</code> tag.</p>
</div>
</div>
</div>
</div>
</section><section><h2 class="section-heading" id="figures">Figures<a class="anchor" aria-label="anchor" href="#figures"></a>
</h2>
<hr class="half-width">
<p>You can include figures generated from R Markdown:</p>
<div class="codewrapper sourceCode" id="cb3">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">pie</span><span class="op">(</span></span>
<span>  <span class="fu">c</span><span class="op">(</span>Sky <span class="op">=</span> <span class="fl">78</span>, <span class="st">"Sunny side of pyramid"</span> <span class="op">=</span> <span class="fl">17</span>, <span class="st">"Shady side of pyramid"</span> <span class="op">=</span> <span class="fl">5</span><span class="op">)</span>, </span>
<span>  init.angle <span class="op">=</span> <span class="fl">315</span>, </span>
<span>  col <span class="op">=</span> <span class="fu">c</span><span class="op">(</span><span class="st">"deepskyblue"</span>, <span class="st">"yellow"</span>, <span class="st">"yellow3"</span><span class="op">)</span>, </span>
<span>  border <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre>
</div>
<figure style="text-align: center"><img src="fig/count-and-summarize-rendered-pyramid-1.png" alt="pie chart illusion of a pyramid" class="figure mx-auto d-block"><figcaption>
Sun arise each and every morning
</figcaption></figure><p>Or you can use pandoc markdown for static figures with the following
syntax:</p>
<p><code>![optional caption that appears below the figure](figure url){alt='alt text for accessibility purposes'}</code></p>
<figure><img src="https://raw.githubusercontent.com/carpentries/logo/master/Badge_Carpentries.svg" alt="Blue Carpentries hex person logo with no text." class="figure mx-auto d-block"><div class="figcaption">You belong in The Carpentries!</div>
</figure></section><section><h2 class="section-heading" id="math">Math<a class="anchor" aria-label="anchor" href="#math"></a>
</h2>
<hr class="half-width">
<p>One of our episodes contains <span class="math inline">\(\LaTeX\)</span> equations when describing how to
create dynamic reports with {knitr}, so we now use mathjax to describe
this:</p>
<p><code>$\alpha = \dfrac{1}{(1 - \beta)^2}$</code> becomes: <span class="math inline">\(\alpha = \dfrac{1}{(1 - \beta)^2}\)</span></p>
<p>Cool, right?</p>
<div id="keypoints1" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Key Points</h3>
<div class="callout-content">
<ul>
<li>Use <code>.md</code> files for episodes when you want static
content</li>
<li>Use <code>.Rmd</code> files for episodes when you need to generate
output</li>
<li>Run <code>sandpaper::check_lesson()</code> to identify any issues
with your lesson</li>
<li>Run <code>sandpaper::build_lesson()</code> to preview your lesson
locally</li>
</ul>
</div>
</div>
</div>
<!--
Place links that you need to refer to multiple times across pages here. Delete
any links that you are not going to use.
 -->
</section></section>
</div>
    </main>
</div>
<!-- END  : inst/pkgdown/templates/content-extra.html -->

      </div>
<!--/div.row-->
      		<footer class="row footer mx-md-3"><hr>
<div class="col-md-6">
        <p>This lesson is subject to the <a href="CODE_OF_CONDUCT.html">Code of Conduct</a></p>
        <p>

        <a href="https://github.com/SLesche/r-for-empra/edit/main/README.md" class="external-link">Edit on GitHub</a>

	
        | <a href="https://github.com/SLesche/r-for-empra/blob/main/CONTRIBUTING.md" class="external-link">Contributing</a>
        | <a href="https://github.com/SLesche/r-for-empra/" class="external-link">Source</a></p>
				<p><a href="https://github.com/SLesche/r-for-empra/blob/main/CITATION.cff" class="external-link">Cite</a> | <a href="mailto:sven.lesche@psychologie.uni-heidelberg.de">Contact</a> | <a href="https://carpentries.org/about/" class="external-link">About</a></p>
			</div>
			<div class="col-md-6">

        <p>Materials licensed under <a href="LICENSE.html">CC-BY 4.0</a> by the authors</p>

        <p>Template licensed under <a href="https://creativecommons.org/licenses/by-sa/4.0/" class="external-link">CC-BY 4.0</a> by <a href="https://carpentries.org/" class="external-link">The Carpentries</a></p>
        <p>Built with <a href="https://github.com/carpentries/sandpaper/tree/0.16.11" class="external-link">sandpaper (0.16.11)</a>, <a href="https://github.com/carpentries/pegboard/tree/0.7.9" class="external-link">pegboard (0.7.9)</a>, and <a href="https://github.com/carpentries/varnish/tree/1.0.5" class="external-link">varnish (1.0.5)</a></p>
			</div>
		</footer>
</div> <!-- / div.container -->
	<div id="to-top">
		<a href="#top">
      <i class="search-icon" data-feather="arrow-up" role="img" aria-label="Back To Top"></i><br><!-- <span class="d-none d-sm-none d-md-none d-lg-none d-xl-block">Back</span> To Top --><span class="d-none d-sm-none d-md-none d-lg-none d-xl-block">Back</span> To Top
		</a>
	</div>
  <script type="application/ld+json">
    {
  "@context": "https://schema.org",
  "@type": "TrainingMaterial",
  "@id": "https://SLesche.github.io/r-for-empra/aio.html",
  "inLanguage": "en",
  "dct:conformsTo": "https://bioschemas.org/profiles/TrainingMaterial/1.0-RELEASE",
  "description": "A Carpentries Lesson teaching foundational data and coding skills to researchers worldwide",
  "keywords": "R, beginner, tidyverse, empra, data, lesson, The Carpentries",
  "name": "All in One View",
  "creativeWorkStatus": "active",
  "url": "https://SLesche.github.io/r-for-empra/aio.html",
  "identifier": "https://SLesche.github.io/r-for-empra/aio.html",
  "dateCreated": "2025-03-19",
  "dateModified": "2025-03-19",
  "datePublished": "2025-03-19"
}

  </script><script>
		feather.replace();
	</script>
</body>
</html><!-- END:   inst/pkgdown/templates/layout.html-->

